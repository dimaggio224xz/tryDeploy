{"version":3,"sources":["icons/logo.png","icons/search.png","icons/profile-picture.png","icons/instagram-icon.svg","icons/arrow.png","components/getAvatar/index.js","components/Nav/index.js","components/Nav/Nav.js","components/Footer/index.js","components/Footer/Footer.js","components/gotService/gotService.js","components/gotTime/gotTime.js","components/actionsRedux/index.js","components/MainPage/MainPage.js","components/MainPage/index.js","components/EnterForm/EnterForm.js","components/EnterForm/index.js","components/CheckInForm/CheckInForm.js","components/CheckInForm/index.js","components/UserPage/UserPage.js","components/UserPage/index.js","components/UserPageOwner/UserPageOwner.js","components/UserPageOwner/index.js","components/CreatePost/CreatePost.js","components/CreatePost/index.js","components/SearchInfo/SearchInfo.js","components/SearchInfo/index.js","components/AdminPage/AdminPage.js","components/AdminPage/index.js","components/EditProfile/EditProfile.js","components/EditProfile/index.js","components/App/App.js","components/App/index.js","index.js"],"names":["module","exports","getAvatar","el","background","usersPicture","Nav","content","data","this","props","owner","admin","to","className","style","avatar","_id","src","logo","alt","searchIcon","Component","Footer","href","target","rel","instagramm","gotService","makeCheckIn","nick","email","password","a","fetch","headers","method","body","JSON","stringify","res","ok","Error","json","makeEnter","createPost","token","userId","title","text","updatePost","deletePost","getJWT","JWT","findUser","skip","nickOrEmail","getPosts","findUsersAndPosts","find","findAmountPosts","findAmountUsersPosts","firstTime","deleteUser","getStatistics","blockUnblock","trackUser","changeNickEmail","changePassword","oldPass","NewPass","deletePicture","addPicture","formData","deletePictureAdmin","gotTime","slice","t","Date","getDate","getMonth","getFullYear","getHours","getMinutes","cleanStore","type","putStore","userData","putMainPageStore","mainPageStore","putUserPageStore","userPageStore","putOwnerPageStore","ownerPageStore","putInfoPost","postInfo","putInfoSearch","searchInfo","putInfoAdmin","adminInfo","mapDispatchToProps","dispath","bindActionCreators","MainPage","state","allow","onScrollList","event","scrollingElement","scrollTop","offsetHeight","scrollHeight","setState","updateAgain","mainPage","amountPosts","addSkip","then","postsArr","catch","err","console","log","window","addEventListener","msg","removeEventListener","context","map","i","key","Math","random","toString","time","contentEditable","dangerouslySetInnerHTML","__html","onScroll","arrow","ListItem","p","children","connect","store","EnterForm","validate","disabled","inputEmailChange","value","inputPasswordChange","registerUser","length","test","localStorage","setItem","location","aria-label","aria-hidden","htmlFor","onChange","id","aria-describedby","onClick","CheckInForm","inputNickChange","s","chackNick","toLocaleLowerCase","save","pasword","str","arr","split","charCodeAt","UserPage","userPage","idU","params","user","count","UserPageOwner","toCreatePost","getPostsFirst","ownerPage","interval","setInterval","clearInterval","changeMessage","deleteMessage","filter","logOut","removeItem","CreatePost","textArea","e","break","bold","italick","underline","deleted","prompt","img","savePost","propsPost","post","setTimeout","btnText","sendBtn","cols","rows","stpre","SearchInfo","gotServices","useState","typeSearch","setTypeSearch","searchText","setSearchText","useEffect","usersArr","posts","users","val1","val2","search","placeholder","AdminPage","setAllow","dropping","status","statistic","changeUser","active","userProps","message","deleteAvatar","u","EditProfile","setNick","setEmail","changePass","setChangePass","setOldPass","newPass1","setNewPass1","newPass2","setNewPass2","warnMsg1","setWarnMsg1","warnMsg2","setWarnMsg2","warnMsg3","setWarnMsg3","choosePicture","setChoosePicture","fileInput","React","createRef","saveNickEmail","reg","save1","save2","save3","deleteIMG","btnPassword","fileInputMSG","passwordField","encType","onSubmit","preventDefault","file","files","size","FormData","append","handleSubmit","ref","App","myInterval","setMyInterval","jwt","getItem","intervalMark","exact","path","render","match","initialState","createStore","action","applyMiddleware","thunk","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.633d50b2.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.2ed23f83.png\";","module.exports = __webpack_public_path__ + \"static/media/search.8c1ab3c5.png\";","module.exports = __webpack_public_path__ + \"static/media/profile-picture.ce247019.png\";","module.exports = __webpack_public_path__ + \"static/media/instagram-icon.fc23b902.svg\";","module.exports = \"data:image/png;base64,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\"","import usersPicture from '../../icons/profile-picture.png';\r\nexport default function getAvatar(el) {\r\n    return el === 'false'?\r\n    {background: 'url('+ usersPicture +') center center / cover no-repeat #ffffff'}: \r\n    {background: 'url('+ el +') center center / cover no-repeat #ffffff'};\r\n}","import Nav from './Nav';\r\nexport default Nav;","import React, {Component} from 'react';\r\nimport {Link} from \"react-router-dom\";\r\nimport logo from '../../icons/logo.png'\r\nimport searchIcon from '../../icons/search.png';\r\nimport getAvatar from '../getAvatar';\r\n\r\n\r\n\r\n\r\nexport default class Nav extends Component {\r\n    render () {\r\n        const data = this.props.owner;\r\n        let content;\r\n\r\n        if (!data) {\r\n            content = <Link to='/users/get' className='react-Link'>\r\n                        <button className='btn btn-outline-success'>Войти</button>\r\n                    </Link>;\r\n\r\n        } else if (data.admin) {\r\n\r\n            content = <Link to='/adminpage' className='react-Link'>\r\n                        <div className='nav-profile' style={getAvatar(data.avatar)}></div>\r\n                    </Link>\r\n        } else if (data._id) {\r\n\r\n            content = <Link to='/owner' className='react-Link'>\r\n                        <div className='nav-profile' style={getAvatar(data.avatar)}></div>\r\n                    </Link>\r\n        } else {\r\n            content = null;\r\n        }\r\n\r\n        return (\r\n            <header>\r\n                <nav className=\"nav-bar bg-dark\">\r\n                    <div className='container d-flex justify-content-between align-items-center position-relative'>\r\n\r\n                        <Link to='/' className='react-Link'>\r\n                            <div className='nav-logo'>\r\n                                <img src={logo} alt='Logotype'/>\r\n                            </div>\r\n                            <span className='nav-logo-text'>ProBird</span>\r\n                        </Link>\r\n\r\n                        <div className='main-message'>Tell your story ...</div>\r\n                        \r\n                        <div className='d-flex'>\r\n                            <Link  to='/searching' className='react-Link'>\r\n                                <div className='search-icon d-flex justify-content-center align-items-center'>\r\n                                    <img src={searchIcon} alt='search icon'/>\r\n                                </div>\r\n                            </Link>\r\n\r\n                            {content}\r\n\r\n                        </div>\r\n                    </div>\r\n                </nav>\r\n            </header>\r\n        )\r\n    }\r\n}","import Footer from './Footer';\r\nexport default Footer;","import React from 'react';\r\nimport {Link} from \"react-router-dom\";\r\nimport logo from '../../icons/logo.png'\r\nimport instagramm from '../../icons/instagram-icon.svg';\r\n\r\nexport default function Footer() {\r\n    return(\r\n        <footer className='d-flex justify-content-center align-items-center'>\r\n        <div className='container d-flex align-items-center'>\r\n            <div className=\"row w-100\">\r\n                <div className=\"col-12 col-md-3\">\r\n                    <div className='footer-left'>\r\n                        <Link to=\"/\" className='react-Link'>\r\n                            <div className='footer-logo'>\r\n                                <img src={logo} alt='Logotype'/>\r\n                            </div>\r\n                            <span className='fotter-logo-text'>ProBird</span>\r\n                        </Link>\r\n                    </div>\r\n                </div>\r\n                <div className=\"col-6 col-md-6\">\r\n                    <div className='footer-middle'>\r\n                        © 2020 ProBird. Все права защищены.\r\n                    </div>\r\n                </div>\r\n                <div className=\"col-6 col-md-3\">\r\n                    <div className='footer-right'>\r\n                        <a href=\"https://www.instagram.com/akulov__dima/?igshid=s6r1zca5ujoz\" target='_blank' rel=\"noopener noreferrer\">\r\n                            <img src={instagramm} alt='Link to instagramm'/>\r\n                        </a>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </footer>\r\n    )\r\n}","export default class gotService {\r\n\r\n    makeCheckIn = async (nick, email, password) => {\r\n        let res = await fetch(\"/users/new\", {\r\n            headers: {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json'\r\n            },\r\n            method: \"POST\",\r\n            body: JSON.stringify({nick, email, password})\r\n        })\r\n        \r\n        if (!res.ok) throw new Error(`COULD_NOT_GET_DATA`);\r\n        else return await res.json();\r\n    }\r\n\r\n    makeEnter = async (email, password) => {\r\n        let res = await fetch(\"/users/get\", {\r\n            headers: {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json'\r\n            },\r\n            method: \"POST\",\r\n            body: JSON.stringify({email, password})\r\n        })\r\n        \r\n        if (!res.ok) throw new Error(`COULD_NOT_GET_DATA`);\r\n        else return await res.json();\r\n    }\r\n    \r\n    createPost = async (token, userId, title, text) => {\r\n        let res = await fetch(\"/posts/new\", {\r\n            headers: {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json'\r\n            },\r\n            method: \"POST\",\r\n            body: JSON.stringify({token, userId, title, text})\r\n        })\r\n        \r\n        if (!res.ok) throw new Error(`COULD_NOT_GET_DATA`);\r\n        else return await res.json();\r\n    }\r\n    \r\n    updatePost = async (token, userId, _id, title, text) => {\r\n        let res = await fetch(\"/posts/update\", {\r\n            headers: {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json'\r\n            },\r\n            method: \"POST\",\r\n            body: JSON.stringify({token, userId, _id, title, text})\r\n        })\r\n        \r\n        if (!res.ok) throw new Error(`COULD_NOT_GET_DATA`);\r\n        else return await res.json();\r\n    }\r\n\r\n\r\n    deletePost = async (_id, token, userId) => {\r\n        let res = await fetch(\"/posts/delete\", {\r\n            headers: {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json'\r\n            },\r\n            method: \"DELETE\",\r\n            body: JSON.stringify({_id, token, userId})\r\n        })\r\n        \r\n        if (!res.ok) throw new Error(`COULD_NOT_GET_DATA`);\r\n        else return await res.json();\r\n    }\r\n\r\n\r\n    getJWT = async (JWT) => {\r\n        let res = await fetch(\"/\", {\r\n            method: \"POST\",\r\n            headers: {\r\n                'Authorization': 'Bearer ' + JWT\r\n            }\r\n        })\r\n        \r\n        if (!res.ok) throw new Error(`COULD_NOT_GET_DATA`);\r\n        else return await res.json();\r\n    }\r\n\r\n\r\n\r\n    findUser = async (skip, token, userId, nickOrEmail) => {\r\n        let res = await fetch(\"/user/find\", {\r\n            headers: {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json'\r\n            },\r\n            method: \"POST\",\r\n            body: JSON.stringify({skip, token, userId, nickOrEmail})\r\n        })\r\n        \r\n        if (!res.ok) throw new Error(`COULD_NOT_GET_DATA`);\r\n        else return await res.json();\r\n    }\r\n\r\n    \r\n    getPosts = async (skip, userId) => {\r\n        let res = await fetch(\"/posts/get\", {\r\n            headers: {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json'\r\n            },\r\n            method: \"POST\",\r\n            body: JSON.stringify({skip, userId})\r\n        })\r\n        \r\n        if (!res.ok) throw new Error(`COULD_NOT_GET_DATA`);\r\n        else return await res.json();\r\n    }\r\n\r\n\r\n    findUsersAndPosts = async (find) => {\r\n        let res = await fetch(\"/posts&users/find\", {\r\n            headers: {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json'\r\n            },\r\n            method: \"POST\",\r\n            body: JSON.stringify({find})\r\n        })\r\n\r\n        if (!res.ok) throw new Error(`COULD_NOT_GET_DATA`);\r\n        else return await res.json();\r\n    }\r\n\r\n    findAmountPosts = async () => {\r\n        let res = await fetch(\"/posts/count\",{method: 'PUT'});\r\n        \r\n        if (!res.ok) throw new Error(`COULD_NOT_GET_DATA`);\r\n        else return await res.json();\r\n    }\r\n\r\n    findAmountUsersPosts = async (userId, skip, firstTime) => {\r\n        let res = await fetch(\"/user/findposts\", {\r\n            headers: {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json'\r\n            },\r\n            method: \"POST\",\r\n            body: JSON.stringify({userId, skip, firstTime})\r\n        })\r\n\r\n        if (!res.ok) throw new Error(`COULD_NOT_GET_DATA`);\r\n        else return await res.json();\r\n    }\r\n    \r\n    deleteUser = async (_id, token) => {\r\n        let res = await fetch(\"/user/delete\", {\r\n            headers: {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json'\r\n            },\r\n            method: \"POST\",\r\n            body: JSON.stringify({_id, token})\r\n        })\r\n        \r\n        if (!res.ok) throw new Error(`COULD_NOT_GET_DATA`);\r\n        else return await res.json();\r\n    }\r\n\r\n    getStatistics = async (token) => {\r\n        let res = await fetch(\"/statistics\", {\r\n            headers: {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json'\r\n            },\r\n            method: \"POST\",\r\n            body: JSON.stringify({token})\r\n        })\r\n        \r\n        if (!res.ok) throw new Error(`COULD_NOT_GET_DATA`);\r\n        else return await res.json();\r\n    }\r\n\r\n\r\n    blockUnblock = async (_id, token) => {\r\n        let res = await fetch(\"/user/block&unblock\", {\r\n            headers: {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json'\r\n            },\r\n            method: \"POST\",\r\n            body: JSON.stringify({_id, token})\r\n        })\r\n        \r\n        if (!res.ok) throw new Error(`COULD_NOT_GET_DATA`);\r\n        else return await res.json();\r\n    }\r\n\r\n    trackUser = async (token) => {\r\n        let res = await fetch(\"/user/track\", {\r\n            headers: {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json'\r\n            },\r\n            method: \"POST\",\r\n            body: JSON.stringify({token})\r\n        })\r\n        \r\n        if (!res.ok) throw new Error(`COULD_NOT_GET_DATA`);\r\n        else return await res.json();\r\n    }\r\n\r\n    changeNickEmail = async (nick, email, token) => {\r\n        let res = await fetch(\"/user/changenickemail\", {\r\n            headers: {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json'\r\n            },\r\n            method: \"POST\",\r\n            body: JSON.stringify({nick, email, token})\r\n        })\r\n        \r\n        if (!res.ok) throw new Error(`COULD_NOT_GET_DATA`);\r\n        else return await res.json();\r\n    }\r\n\r\n    changePassword = async (oldPass, NewPass, token) => {\r\n        let res = await fetch(\"/user/changepassword\", {\r\n            headers: {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json'\r\n            },\r\n            method: \"POST\",\r\n            body: JSON.stringify({oldPass, NewPass, token})\r\n        })\r\n        \r\n        if (!res.ok) throw new Error(`COULD_NOT_GET_DATA`);\r\n        else return await res.json();\r\n    }\r\n\r\n    deletePicture = async (token) => {\r\n        let res = await fetch(\"/deletepicture\", {\r\n            headers: {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json'\r\n            },\r\n            method: \"POST\",\r\n            body: JSON.stringify({token})\r\n        })\r\n        \r\n        if (!res.ok) throw new Error(`COULD_NOT_GET_DATA`);\r\n        else return await res.json();\r\n    }\r\n\r\n    addPicture = async (formData, token) => {\r\n        let res = await fetch(\"/addpicture\", {\r\n            headers: {\r\n                'Authorization': 'Bearer ' + token\r\n            },\r\n            method: \"POST\",\r\n            body: formData\r\n        })\r\n        \r\n        if (!res.ok) throw new Error(`COULD_NOT_GET_DATA`);\r\n        else return await res.json();\r\n    }\r\n\r\n    deletePictureAdmin = async (userId, avatar, token) => {\r\n        let res = await fetch(\"/deletepictureadmin\", {\r\n            headers: {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json'\r\n            },\r\n            method: \"POST\",\r\n            body: JSON.stringify({userId, avatar, token})\r\n        })\r\n        \r\n        if (!res.ok) throw new Error(`COULD_NOT_GET_DATA`);\r\n        else return await res.json();\r\n    }\r\n}","function gotTime(_id) {\r\n    _id= (''+_id).slice(0,19);\r\n    const t = new Date(_id);\r\n    return ''+ (+t.getDate() <10 ? '0'+t.getDate(): t.getDate())+'.'+\r\n    ((+t.getMonth())<=8? '0'+(t.getMonth()+1): t.getMonth()+1)+'.'+t.getFullYear()+'  '+\r\n    (+t.getHours() <10? '0'+t.getHours():t.getHours())+':'+(+t.getMinutes() <10? '0'+t.getMinutes():t.getMinutes());\r\n}\r\nexport default gotTime;","import { bindActionCreators } from 'redux'\r\n\r\n\r\nconst cleanStore = () => {\r\n    return {\r\n        type: 'CLEAN_STATE'\r\n    };\r\n}\r\nconst putStore = (userData) => {\r\n    return {\r\n        type: 'PUT_STATE',\r\n        userData\r\n    }\r\n}\r\nconst putMainPageStore = (mainPageStore) => {\r\n    return {\r\n        type: 'PUT_MAIN_PAGE_STATE',\r\n        mainPageStore\r\n    }\r\n}\r\nconst putUserPageStore = (userPageStore) => {\r\n    return {\r\n        type: 'PUT_USER_PAGE_STATE',\r\n        userPageStore\r\n    }\r\n}\r\nconst putOwnerPageStore = (ownerPageStore) => {\r\n    return {\r\n        type: 'PUT_OWNER_PAGE_STATE',\r\n        ownerPageStore\r\n    }\r\n}\r\nconst putInfoPost = (postInfo) => {\r\n    return {\r\n        type: 'PUT_POST_INFO',\r\n        postInfo\r\n    }\r\n}\r\nconst putInfoSearch = (searchInfo) => {\r\n    return {\r\n        type: 'PUT_SEARCH_INFO',\r\n        searchInfo\r\n    }\r\n}\r\nconst putInfoAdmin = (adminInfo) => {\r\n    return {\r\n        type: 'PUT_ADMIN_INFO',\r\n        adminInfo\r\n    }\r\n}\r\n\r\n\r\n\r\nconst mapDispatchToProps = (dispath) => {\r\n                    return bindActionCreators({\r\n                        cleanStore,\r\n                        putStore,\r\n                        putMainPageStore,\r\n                        putUserPageStore,\r\n                        putOwnerPageStore,\r\n                        putInfoPost,\r\n                        putInfoSearch,\r\n                        putInfoAdmin\r\n                    }, dispath)\r\n}\r\n\r\n\r\nexport default mapDispatchToProps;","\r\nimport React, {Component} from 'react';\r\nimport {Link} from \"react-router-dom\";\r\nimport { connect } from 'react-redux';\r\n\r\nimport arrow from '../../icons/arrow.png'\r\nimport getAvatar from '../getAvatar'\r\nimport gotService from '../gotService/gotService.js';\r\nimport gotTime from '../gotTime/gotTime'\r\nimport mapDispatchToProps from '../actionsRedux';\r\n\r\n\r\n\r\nconst mapStateToProps = (store) => ({...store});\r\n\r\n\r\n\r\nclass MainPage extends Component {\r\n    gotService = new gotService();\r\n\r\n\r\n    state = {\r\n        allow: true\r\n    }\r\n\r\n    componentDidMount() {\r\n        window.addEventListener('scroll', this.onScrollList);\r\n        let amountPosts;\r\n        const props = this.props.mainPage;\r\n\r\n        this.gotService.findAmountPosts()\r\n            .then(res=> {amountPosts = res.msg}, err=> console.log(err))\r\n            .then(()=> this.gotService.getPosts(props.skip))\r\n            .then(res=> this.props.putMainPageStore({\r\n                postsArr: res.postsArr,\r\n                skip: props.skip + this.props.addSkip,\r\n                amountPosts\r\n            }), err=> console.log(err))\r\n\r\n    }\r\n\r\n    onScrollList = (event) => {\r\n\r\n        if(!event.target.scrollingElement) return;\r\n        \r\n        let scrollBottom = event.target.scrollingElement.scrollTop + \r\n            event.target.scrollingElement.offsetHeight > event.target.scrollingElement.scrollHeight/100*92;\r\n            \r\n        if (scrollBottom && this.state.allow) {\r\n            this.setState({allow: false})\r\n            this.updateAgain()\r\n        }\r\n    }\r\n\r\n    updateAgain=()=>{\r\n        const props = this.props.mainPage;\r\n        \r\n        if (props.amountPosts - props.skip > (-this.props.addSkip)){\r\n\r\n            this.gotService.getPosts(props.skip)\r\n            .then(res=> {\r\n                this.props.putMainPageStore({\r\n                    skip: props.skip + this.props.addSkip,\r\n                    postsArr: [...props.postsArr, ... res.postsArr],\r\n                });\r\n                this.setState({allow: true})\r\n            })\r\n            .catch(err=> console.log(err));\r\n        }\r\n    }\r\n\r\n\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener('scroll', this.onScrollList);\r\n\r\n        this.props.putMainPageStore({\r\n            postsArr: [],\r\n            skip: 0,\r\n            amountPosts: null\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const props = this.props.mainPage;\r\n\r\n\r\n        if (!props.postsArr) {return null}\r\n\r\n        let context = props.postsArr.map(i => {\r\n            return <ListItem key={getSuperId()}>\r\n                    <div className='page-posts'>\r\n                        <div className='d-flex justify-content-between'>\r\n                        <Link to={`/user/${i.userId}`} className='react-Link'>\r\n                            <div className='page-posts-user'>\r\n                                <div className='page-posts-ava' style={getAvatar(i.avatar)}></div>\r\n                                \r\n                                <span className='page-posts-nick'>{i.nick}</span>\r\n                            </div>\r\n                        </Link>\r\n                        <pre className='page-posts-time'>{gotTime(i.time)}</pre>\r\n                        </div>\r\n                        <hr/>\r\n                        <h2>{i.title}</h2>\r\n                        <div className='superText' \r\n                            contentEditable='false' \r\n                            dangerouslySetInnerHTML={{ __html: `${i.text}` }}></div>              \r\n                    </div>\r\n            </ListItem>}\r\n        );\r\n\r\n        \r\n\r\n\r\n        return (\r\n            <div className='container'>\r\n                <div onScroll={event => this.onScrollList(event)} className='d-flex flex-column align-items-center'>\r\n                    <div className='main-page-msg'>\r\n                        <h1>Здесь может быть твой пост</h1>\r\n                        <img className='main-page-arrow' src={arrow} alt='arrow'/>\r\n                    </div>\r\n\r\n                    {context}\r\n\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nconst ListItem = (p) => <>{p.children}</>;\r\n\r\n\r\nfunction getSuperId() {\r\n    return ''+ Math.random().toString(36).slice(2)+Math.random().toString(36).slice(2)+Math.random().toString(36).slice(2);\r\n}\r\n\r\n\r\nexport default connect( mapStateToProps, mapDispatchToProps )(MainPage);","import MainPage from './MainPage';\r\nexport default MainPage;","import React, {Component} from 'react';\r\nimport {Link} from \"react-router-dom\";\r\nimport { connect } from 'react-redux';\r\n\r\nimport mapDispatchToProps from '../actionsRedux';\r\nimport gotService from '../gotService/gotService.js';\r\n\r\n\r\nconst mapStateToProps = (store) => ({...store});\r\n\r\nclass EnterForm extends Component {\r\n    gotService = new gotService();\r\n\r\n    state = {\r\n        email: '',\r\n        password: '',\r\n        validate: true,\r\n        disabled: false,\r\n    }\r\n\r\n    inputEmailChange = (event) => {\r\n        this.setState({\r\n            email: event.target.value,\r\n            validate: true\r\n        });\r\n    }\r\n    \r\n    inputPasswordChange = (event) => {\r\n        this.setState({\r\n            password: event.target.value,\r\n            validate: true\r\n        });\r\n    }\r\n\r\n    registerUser =() => {\r\n        \r\n        \r\n        const reg = /^([A-Za-z0-9_\\-\\.])+\\@([A-Za-z0-9_\\-\\.])+\\.([A-Za-z]{2,4})$/;\r\n\r\n        if (this.state.password.length >= 4 && reg.test(this.state.email)) {\r\n            this.setState({disabled: true})\r\n\r\n            this.gotService.makeEnter(this.state.email, this.state.password)\r\n                .then(res=> {\r\n                    if (res.msg){\r\n                        this.setState({disabled: false, validate: false})\r\n                    } else {\r\n                        localStorage.setItem('superJWT_', res.token);\r\n                        \r\n                        this.props.putStore(res);\r\n                        window.location = \"/\";\r\n                    }\r\n                })\r\n                .catch(err=> console.log(err))\r\n        } else {\r\n            this.setState({validate: false})\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    render() {\r\n\r\n        if (this.props.data) {\r\n            return null;\r\n        }\r\n\r\n\r\n        return (\r\n            <div className='enter-form-bg'>\r\n                <div className='enter-form my-enter-form'>\r\n                    \r\n                    <div className='d-flex w-100 justify-content-between align-items-start'>\r\n                        <h2>Вход</h2>\r\n                        <Link to='/'>\r\n                            <button type=\"button\" className=\"close\" aria-label=\"Close\">\r\n                                <span aria-hidden=\"true\">&times;</span>\r\n                            </button>\r\n                        </Link>\r\n                    </div>\r\n\r\n\r\n                    <div className=\"form-group\">\r\n                        <label htmlFor=\"inputEmail1\">E-mail</label>\r\n\r\n                        <input \r\n                            onChange={this.inputEmailChange}\r\n                            value={this.state.email}\r\n                            type=\"email\" className=\"form-control\"\r\n                            id=\"inputEmail1\" aria-describedby=\"emailHelp\"/>\r\n\r\n                    </div>\r\n\r\n\r\n                    <div className=\"form-group\">\r\n                        <label htmlFor=\"inputPassword1\">Пароль</label>\r\n\r\n                        <input \r\n                            onChange={this.inputPasswordChange}\r\n                            value={this.state.password}\r\n                            type=\"password\" className=\"form-control\"\r\n                            id=\"inputPassword1\"/>\r\n                        <span className='form-hint'>Пароль должен содержать минимум 4 символа</span>\r\n\r\n                    </div>\r\n\r\n\r\n                    <div className='form-wrap-btn'>\r\n\r\n                        {this.state.validate ? \r\n                                <button disabled={this.state.disabled} onClick={this.registerUser} className=\"btn btn-primary form-btn\">Войти</button>\r\n                                            :\r\n                                <button disabled className=\"btn btn-outline-danger form-btn\">Некоректный пароль или email</button>\r\n                        }\r\n\r\n                        <Link to='/users/new' className='react-Link'>\r\n                            <button className=\"btn btn-outline-dark form-btn\">Зарегистрироваться</button>\r\n                        </Link>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default connect( mapStateToProps, mapDispatchToProps )(EnterForm);","import EnterForm from './EnterForm';\r\nexport default EnterForm;","import React, {Component} from 'react';\r\nimport {Link} from \"react-router-dom\";\r\nimport { connect } from 'react-redux';\r\n\r\nimport mapDispatchToProps from '../actionsRedux';\r\nimport gotService from '../gotService/gotService.js';\r\n\r\n\r\n\r\n\r\nclass CheckInForm extends Component {\r\n    gotService = new gotService();\r\n\r\n    state = {\r\n        email: '',\r\n        password: '',\r\n        nick: '',\r\n        validate: 1,\r\n        disabled: false\r\n    }\r\n\r\n    inputEmailChange = (event) => {\r\n        this.setState({\r\n            email: event.target.value,\r\n            validate: 1,\r\n        });\r\n    }\r\n\r\n    inputNickChange = (event) => {\r\n        this.setState({\r\n            nick: event.target.value,\r\n            validate: 1,\r\n        });\r\n    }\r\n    \r\n    inputPasswordChange = (event) => {\r\n        this.setState({\r\n            password: event.target.value,\r\n            validate: 1,\r\n        });\r\n    }\r\n\r\n\r\n\r\n    registerUser =() => {\r\n        var reg = /^([A-Za-z0-9_\\-\\.])+\\@([A-Za-z0-9_\\-\\.])+\\.([A-Za-z]{2,4})$/;\r\n        const s = this.state;\r\n\r\n        if (s.email==='' || s.password==='' || s.nick==='') {\r\n            this.setState({ validate: 2 });\r\n        }\r\n        else if (!reg.test(s.email)) {\r\n            this.setState({ validate: 3 });\r\n        }\r\n        else if (!chackNick(s.nick)) {\r\n            this.setState({ validate: 4 });\r\n        }\r\n        else if (s.password.length < 4 || s.password.length > 30) {\r\n            console.log('gjutfjf')\r\n            this.setState({ validate: 5 });\r\n        }\r\n        else {\r\n            this.setState({disabled: true});\r\n\r\n            this.gotService.makeCheckIn( s.nick, s.email.toLocaleLowerCase(), s.password)\r\n                .then(res=>{\r\n                    if (res.msg === 'NICK_EXIST'){\r\n                        this.setState({disabled: false, validate: 6})\r\n\r\n                    } \r\n                    else if(res.msg === 'EMAIL_EXIST') {\r\n                        this.setState({disabled: false, validate: 7})\r\n                    }\r\n                    else if(res._id){\r\n                        localStorage.setItem('superJWT_', res.token);\r\n                        \r\n                        this.props.putStore(res)\r\n                        window.location = \"/\";\r\n                    }\r\n                    else {\r\n                        this.setState({disabled: false, validate: 8})\r\n                    }\r\n                })\r\n                .catch(err=> console.log(err))\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n    render() {\r\n\r\n        if (this.props.data) {\r\n            return null;\r\n        }\r\n\r\n\r\n        const s = this.state;\r\n        let save;\r\n\r\n\r\n        if (s.disabled) {\r\n            save = <button disabled className=\"btn btn-success form-btn\">Зарегистрироваться</button>\r\n        }\r\n        else {\r\n            switch(s.validate) {\r\n                case 1:\r\n                    save = <button onClick={this.registerUser} className=\"btn btn-success form-btn\">Зарегистрироваться</button>;\r\n                    break;\r\n                case 2:\r\n                    save = <button disabled className=\"btn btn-outline-danger form-btn\">Поля не должны быть пустыми</button>;\r\n                    break;\r\n                case 3:\r\n                    save = <button disabled className=\"btn btn-outline-danger form-btn\">Некоректный E-mail</button>;\r\n                    break;\r\n                case 4:\r\n                    save = <button disabled className=\"btn btn-outline-danger form-btn\">Nick должен содержать только: A-Za-z0-9_</button>;\r\n                    break;\r\n                case 5:\r\n                    save = <button disabled className=\"btn btn-outline-danger form-btn\">Пароль должен содержать 4-30 символов</button>;\r\n                    break;\r\n                case 6:\r\n                    save = <button disabled className=\"btn btn-outline-danger form-btn\">Такой Ник уже существует</button>;\r\n                    break;\r\n                case 7:\r\n                    save = <button disabled className=\"btn btn-outline-danger form-btn\">Такой E-mail уже существует</button>;\r\n                    break;\r\n                case 8:\r\n                    save = <button disabled className=\"btn btn-outline-danger form-btn\">Ошибка!</button>;\r\n                    break;\r\n    }\r\n        }\r\n\r\n\r\n        return (\r\n            <div className='enter-form-bg'>\r\n                <div className='enter-form my-register-form'>\r\n                    <div className='d-flex w-100 justify-content-between align-items-start'>\r\n                        <h2>Регестрация</h2>\r\n                        <Link to='/'>\r\n                            <button type=\"button\" className=\"close\" aria-label=\"Close\">\r\n                                <span aria-hidden=\"true\">&times;</span>\r\n                            </button>\r\n                        </Link>\r\n                    </div>\r\n\r\n                    <div className=\"form-group\">\r\n                        <label htmlFor=\"inputEmail2\">E-mail</label>\r\n\r\n                        <input onChange={this.inputEmailChange}\r\n                                value={this.state.email}\r\n                                type=\"email\" className=\"form-control\" \r\n                                id=\"inputEmail2\" aria-describedby=\"emailHelp\"\r\n                                />\r\n                    </div>\r\n\r\n                    <div className=\"form-group\">\r\n                        <label htmlFor=\"inputText2\">Никнейм</label>\r\n\r\n                        <input onChange={this.inputNickChange}\r\n                                value={this.state.nick}\r\n                                type=\"text\" className=\"form-control\"\r\n                                id=\"inputText2\"\r\n                                />\r\n                    </div>\r\n\r\n                    <div className=\"form-group\">\r\n                        <label htmlFor=\"inputPassword2\">Пароль</label>\r\n\r\n                        <input onChange={this.inputPasswordChange}\r\n                                value={this.state.pasword}\r\n                                type=\"password\" className=\"form-control\" \r\n                                id=\"inputPassword2\"\r\n                                />\r\n                        <span className='form-hint'>Пароль должен содержать 4-30 символов</span>\r\n                    </div>\r\n\r\n                    <div className='form-wrap-btn'>\r\n\r\n                        {save}\r\n                        \r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nfunction chackNick(str) {\r\n    if (str.length > 30) {\r\n        return false\r\n    }\r\n    const arr = str.split('');\r\n    for (let item of arr) {\r\n        let i = item.charCodeAt();\r\n        if (i===95 || (i>47 && i<58) || (i>63 && i<91) || (i>96 && i<123)) {}\r\n        else return false;\r\n    }\r\n    return true;\r\n}\r\n\r\nexport default connect( null, mapDispatchToProps )(CheckInForm);","import CheckInForm from './CheckInForm';\r\nexport default CheckInForm;","import React, {Component} from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport getAvatar from '../getAvatar';\r\nimport gotService from '../gotService/gotService.js';\r\nimport gotTime from '../gotTime/gotTime';\r\nimport mapDispatchToProps from '../actionsRedux';\r\n\r\n\r\n\r\nconst mapStateToProps = (store) => ({...store});\r\n\r\n\r\n\r\n\r\nclass UserPage extends Component {\r\n    gotService = new gotService();\r\n\r\n\r\n    state = {\r\n        allow: true\r\n    }\r\n\r\n    componentDidMount() {\r\n        window.addEventListener('scroll', this.onScrollList);\r\n\r\n        this.gotService.findAmountUsersPosts(this.props.idU.params.id, this.props.userPage.skip, true)\r\n            .then(res=>\r\n                    this.props.putUserPageStore({\r\n                        postsArr: res.postsArr,\r\n                        user: {avatar: res.avatar, email: res.email, nick: res.nick},\r\n                        amountPosts: res.count,\r\n                        skip: this.props.userPage.skip + this.props.addSkip\r\n                    }), \r\n                    err=> console.log(err))\r\n        }\r\n\r\n\r\n    onScrollList = (event) => {\r\n        if(!event.target.scrollingElement) return;\r\n\r\n        let scrollBottom = event.target.scrollingElement.scrollTop + \r\n            event.target.scrollingElement.offsetHeight > event.target.scrollingElement.scrollHeight/100*92;\r\n            \r\n        if (scrollBottom && this.state.allow) {\r\n            this.setState({allow: false})\r\n            this.updateAgain()\r\n        }\r\n    }\r\n\r\n    updateAgain=()=>{\r\n        let props = this.props.userPage\r\n        \r\n        if (props.amountPosts - props.skip > (-this.props.addSkip)){\r\n\r\n            this.gotService.findAmountUsersPosts(this.props.idU.params.id, props.skip)\r\n                .then(res=> {\r\n                    this.props.putUserPageStore({\r\n                        skip: props.skip + this.props.addSkip,\r\n                        postsArr: [...props.postsArr, ...res.postsArr]\r\n                    })\r\n                    this.setState({allow: true})\r\n                }\r\n            )\r\n            .catch(err=> console.log(err));\r\n\r\n        }\r\n    }\r\n\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener('scroll', this.onScrollList);\r\n        this.props.putUserPageStore({\r\n            postsArr: [],\r\n            skip: 0,\r\n            user: {},\r\n            amountPosts: null\r\n        })\r\n    }\r\n\r\n\r\n\r\n\r\n    render() {\r\n\r\n        let props = this.props.userPage\r\n\r\n        if (!props.user || !props.postsArr) {\r\n            return null;\r\n        }\r\n\r\n        const user = props.user;\r\n\r\n        let context = props.postsArr.map(i => {\r\n            return <ListItem key={getSuperId()}>\r\n                <div className='p-0 container'>\r\n                        <div className='page-posts-profile'>\r\n                            <pre className='page-posts-time'>{gotTime(i.time)}</pre>\r\n                            <br/>\r\n                            <h2>{i.title}</h2>\r\n                            <hr/>\r\n                            <div className='superText' \r\n                            contentEditable='false' \r\n                            dangerouslySetInnerHTML={{ __html: `${i.text}` }}></div>  \r\n                        </div>            \r\n                    </div>\r\n            </ListItem>}\r\n        );\r\n\r\n\r\n\r\n        return (\r\n            <>\r\n                <div className='container bg-white'>\r\n                <div onScroll={event => this.onScrollList(event)} className='user-page bg-white'>\r\n                    <div className=\"d-flex flex-column w_100\">\r\n                        \r\n                        <div className=\"user-page-info d-flex justify-content-between\">\r\n                            <div className='d-flex'>\r\n                                <div className='user-page-img' style={getAvatar(user.avatar)}></div>\r\n                                <div>\r\n                                    <h4 className=\"mt-0\">{user.nick}</h4>\r\n                                    <div>Email: <i>{user.email}</i></div>\r\n                                    <div>Посты: <b>{props.amountPosts}</b></div>\r\n                                </div>\r\n                                \r\n                            </div>\r\n                            \r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                </div>\r\n\r\n                {context}\r\n\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nconst ListItem = (p) => <>{p.children}</>;\r\n\r\nfunction getSuperId() {\r\n    return ''+ Math.random().toString(36).slice(2)+Math.random().toString(36).slice(2)+Math.random().toString(36).slice(2);\r\n}\r\n\r\n\r\nexport default connect( mapStateToProps, mapDispatchToProps )(UserPage);","import UserPage from './UserPage';\r\nexport default UserPage;","\r\nimport React, {Component} from 'react';\r\nimport { connect } from 'react-redux';\r\nimport {Link, Redirect} from \"react-router-dom\";\r\n\r\nimport getAvatar from '../getAvatar';\r\nimport gotTime from '../gotTime/gotTime';\r\nimport gotService from '../gotService/gotService.js';\r\nimport mapDispatchToProps from '../actionsRedux';\r\n\r\nconst mapStateToProps = (store) => ({...store});\r\n\r\n\r\n\r\nclass UserPageOwner extends Component {\r\n    gotService = new gotService();\r\n\r\n\r\n    state = {\r\n        allow: true,\r\n        toCreatePost: false\r\n    }\r\n\r\n\r\n    componentDidMount() {\r\n        window.addEventListener('scroll', this.onScrollList); \r\n        this.getPostsFirst();\r\n    }\r\n\r\n    getPostsFirst = () => {\r\n        const props = this.props.ownerPage;\r\n        \r\n        let interval = setInterval(()=>{\r\n            if(this.props.data) {\r\n                clearInterval(interval)\r\n\r\n                this.gotService.findAmountUsersPosts(this.props.data._id, props.skip, true)\r\n                .then(res=> this.props.putOwnerPageStore({\r\n                                            postsArr: res.postsArr,\r\n                                            amountPosts: res.count,\r\n                                            skip: props.skip + this.props.addSkip\r\n                                }) , err=> console.log(err))\r\n            }\r\n        }, 10);\r\n    }\r\n\r\n\r\n\r\n\r\n    onScrollList = (event) => {\r\n        if(!event.target.scrollingElement) return;\r\n        \r\n        let scrollBottom = event.target.scrollingElement.scrollTop + \r\n            event.target.scrollingElement.offsetHeight > event.target.scrollingElement.scrollHeight/100*92;\r\n            \r\n        if (scrollBottom && this.state.allow) {\r\n            this.setState({allow: false})\r\n            this.updateAgain()\r\n        }\r\n    }\r\n\r\n\r\n\r\n    updateAgain=()=>{\r\n        const props = this.props.ownerPage;\r\n        \r\n        if (props.amountPosts - props.skip > (-this.props.addSkip)){\r\n\r\n            this.gotService.findAmountUsersPosts(this.props.data._id, props.skip)\r\n                    .then(res=> {\r\n                        this.props.putOwnerPageStore({\r\n                            skip: props.skip + this.props.addSkip,\r\n                            postsArr: [...props.postsArr, ...res.postsArr]\r\n                        })\r\n                        this.setState({ allow: true })\r\n                })\r\n                .catch(err=> console.log(err))\r\n        }\r\n    }\r\n\r\n\r\n    changeMessage = (_id, title, text) => {\r\n        if(_id && title && text) {\r\n            this.props.putInfoPost({_id, title, text});\r\n            this.setState({toCreatePost: true})\r\n        } else {\r\n            console.log('Something go wrong')\r\n        }\r\n    }\r\n\r\n\r\n    deleteMessage = (_id) => {\r\n        const data = this.props.data\r\n        \r\n        this.gotService.deletePost(_id, data.token, data._id)\r\n        .then(res => {\r\n                console.log({res})\r\n                if (res.msg === 'DELETE') {\r\n                    let arr = this.props.ownerPage.postsArr.filter(i => (i._id !== _id))\r\n                    \r\n                    this.props.putOwnerPageStore({\r\n                        postsArr: arr, \r\n                        amountPosts: this.props.ownerPage.amountPosts - 1})\r\n                } else {\r\n                    console.log('ERROR')\r\n                }\r\n        })\r\n        .catch(err=> console.log(err));\r\n    }\r\n\r\n\r\n\r\n    logOut = () => {\r\n        localStorage.removeItem('superJWT_');\r\n        this.props.cleanStore();\r\n    }\r\n\r\n\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener('scroll', this.onScrollList);\r\n        this.props.putOwnerPageStore({\r\n            skip: 0,\r\n            postsArr: [],\r\n            amountPosts: null\r\n        });\r\n    }\r\n\r\n    render() {\r\n        if(!this.props.data) {\r\n            return null;\r\n        }\r\n\r\n        if (this.state.toCreatePost) {\r\n            return <Redirect to=\"/createpost\"/>\r\n        }\r\n\r\n\r\n        const data = this.props.data;\r\n        const props = this.props.ownerPage;\r\n\r\n        let context;\r\n        if (props.postsArr) {\r\n            context = props.postsArr.map(i => {\r\n                return <ListItem  key={getSuperId()}>\r\n                    <div className='p-0 container'>\r\n                            <div className='page-posts-profile'>\r\n                                <pre className='page-posts-time'>{gotTime(i.time)}</pre>\r\n                                <br/>\r\n                                <h2>{(i.title)}</h2>\r\n                                <hr/>\r\n                                <div className='superText' \r\n                                contentEditable='false' \r\n                                dangerouslySetInnerHTML={{ __html: `${(i.text)}` }}></div>  \r\n    \r\n                                <div className='edit-posts'>\r\n                                    <button onClick={()=>this.changeMessage(i._id, i.title, i.text)} className='btn btn-outline-primary'>Изменить</button>\r\n                                    <button onClick={()=>this.deleteMessage(i._id)} className='btn btn-outline-danger'>Удалить</button>\r\n                                </div>\r\n                            </div> \r\n                        </div>\r\n                </ListItem>}\r\n                );\r\n        } else {\r\n            context = null;\r\n        }\r\n\r\n\r\n\r\n        return (\r\n            <>\r\n            <div className='container bg-white'>\r\n            <div onScroll={event => this.onScrollList(event)} className='user-page bg-white'>\r\n                <div className=\"d-flex w_100\">\r\n                    \r\n                    <div className=\"user-page-info d-flex justify-content-between\">\r\n                        <div className='d-flex'>\r\n                            <div className='user-page-img' style={getAvatar(data.avatar)}></div>\r\n                            <div>\r\n                                <h4 className=\"mt-0\">{data.nick}</h4>\r\n                                <div>Email: <i>{data.email}</i></div>\r\n                                <div>Посты: <b>{props.amountPosts}</b></div>\r\n\r\n                                <Link to=\"/user/editprofile\">\r\n                                    <button className=\"btn btn-outline-dark btn-edit-profile\">Редактировать профиль</button>\r\n                                </Link>\r\n                                \r\n                            </div>\r\n                            \r\n                        </div>\r\n                        <div>\r\n                        <Link to=\"/createpost\">\r\n                            <button className='btn btn-primary mr-4'>Создать пост</button>\r\n                        </Link>\r\n\r\n                            <Link to=\"/\">\r\n                                <button \r\n                                    onClick={this.logOut} \r\n                                    className='btn btn-secondary'>Выйти</button>\r\n                            </Link>\r\n                            \r\n                        </div>\r\n                        \r\n                    </div>\r\n                    <hr/>\r\n                </div>\r\n                \r\n            </div>\r\n            </div>\r\n\r\n            {context}\r\n\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\n\r\n\r\nconst ListItem = (p) => <>{p.children}</>;\r\n\r\nfunction getSuperId() {\r\n    return ''+ Math.random().toString(36).slice(2)+Math.random().toString(36).slice(2)+Math.random().toString(36).slice(2);\r\n}\r\n\r\nexport default connect( mapStateToProps, mapDispatchToProps )(UserPageOwner);","import UserPageOwner from './UserPageOwner';\r\nexport default UserPageOwner;","import React, {Component} from 'react';\r\nimport {Link} from \"react-router-dom\";\r\nimport gotService from '../gotService/gotService.js';\r\nimport { connect } from 'react-redux';\r\nimport mapDispatchToProps from '../actionsRedux';\r\n\r\n\r\nconst mapStateToProps = (stpre) => ({...stpre});\r\n\r\n\r\nclass CreatePost extends Component{\r\n    gotService = new gotService();\r\n\r\n    state={\r\n        title: '',\r\n        textArea: ''\r\n    }\r\n\r\n    componentDidMount() {\r\n        setTimeout(()=>{\r\n            let props = this.props.post;\r\n            this.setState({title: props.title, textArea: props.text})\r\n        }, 100);\r\n    }\r\n\r\n\r\n    title = (e) => {\r\n        this.setState(({title: e.target.value}))\r\n    }\r\n    textArea = (e) => {\r\n        this.setState({textArea: e.target.value})\r\n    }\r\n    break= () => {\r\n        this.setState((state) => ({textArea: state.textArea + '<br/>'}))\r\n    }\r\n    bold= () => {\r\n        this.setState((state) => ({textArea: state.textArea + '<b></b>'}))\r\n    }\r\n    italick= () => {\r\n        this.setState((state) => ({textArea: state.textArea + '<i></i>'}))\r\n    }\r\n    underline= () => {\r\n        this.setState((state) => ({textArea: state.textArea + '<ins></ins>'}))\r\n    }\r\n    deleted= () => {\r\n        this.setState((state) => ({textArea: state.textArea + '<s></s>'}))\r\n    }\r\n    href = () => {\r\n        let href = prompt('Введите URL ссылки','http://')\r\n            if (href) {\r\n                this.setState((state) => ({textArea: state.textArea + `<a href=\"${href}\"></a>`}))\r\n            }\r\n        }\r\n    img = () => {\r\n        let href = prompt('Введите src картинки','')\r\n        if (href) {\r\n            this.setState((state) => ({textArea: state.textArea + `<img src=\"${href}\" target='_blank' alt=\"something\"/>`}))\r\n        }\r\n    }\r\n\r\n\r\n    savePost = () => {\r\n        const propsPost = this.props.post;\r\n        const props = this.props.data;\r\n\r\n        if (propsPost._id && propsPost.title && propsPost.text) {\r\n\r\n            this.gotService.updatePost(props.token, props._id, propsPost._id, this.state.title, this.state.textArea) \r\n            .then(res=> console.log(res), err=> console.log(err))\r\n        } \r\n        else {\r\n            this.gotService.createPost(props.token, props._id, this.state.title, this.state.textArea) \r\n            .then(res=> console.log(res), err=> console.log(err))\r\n        }\r\n    }\r\n\r\n\r\n\r\n    componentWillUnmount() {\r\n        this.props.putInfoPost({_id: null, title: '', text: ''});\r\n    }\r\n\r\n    \r\n    render(){\r\n        if (!this.props.data || !this.props.data.token) {\r\n            return null;\r\n        }\r\n\r\n        const propsPost = this.props.post;\r\n        let btnText = propsPost._id && propsPost.title && propsPost.text ? 'Сохранить изменения' : 'Сохранить новый пост';\r\n\r\n        let sendBtn = this.state.title !=='' && this.state.textArea !=='' ? \r\n            <Link to='/owner'>\r\n                <button onClick={this.savePost} className='btn btn-success'>{btnText}</button>\r\n            </Link> : null;\r\n        \r\n        return (\r\n            <>\r\n                <div className='container bg-white create-post-form'>\r\n                    <div>\r\n                        <Link to='/owner'>\r\n                            <button type=\"button\" className=\"close\" aria-label=\"Close\">\r\n                                <span aria-hidden=\"true\">&times;</span>\r\n                            </button>\r\n                        </Link>\r\n                \r\n                        <div className=\"form-group\">\r\n                            <label className='header-text'>Заголовок:\r\n                                <input \r\n                                    onChange={this.title}\r\n                                    value={this.state.title}\r\n                                    className=\"form-control\"/>\r\n                            </label>\r\n                            <hr/>\r\n\r\n                            <div className='chenge-textarea-btn'>\r\n                                <button onClick={this.break} type=\"button\" className=\"btn btn-outline-info\">Перенос строки</button>\r\n                                <button onClick={this.bold} type=\"button\" className=\"btn btn-outline-info\">Жирный</button>\r\n                                <button onClick={this.italick} type=\"button\" className=\"btn btn-outline-info\">Курсив</button>\r\n                                <button onClick={this.underline} type=\"button\" className=\"btn btn-outline-info\">Подчёркнутый</button>\r\n                                <button onClick={this.deleted} type=\"button\" className=\"btn btn-outline-info\">Зачёркнутый</button>\r\n                                <button onClick={this.href} type=\"button\" className=\"btn btn-outline-info\">Ссылка</button>\r\n                                <button onClick={this.img} type=\"button\" className=\"btn btn-outline-info\">Картинка</button>\r\n                            </div>\r\n\r\n                            <div className='text-area'>\r\n                                <textarea onChange={this.textArea} cols=\"30\" rows=\"10\" value={this.state.textArea} ></textarea>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className='text-area'>\r\n                            <h2>{this.state.title}</h2>\r\n                            <hr/>\r\n                            <div \r\n                                className='superText super-text-style' \r\n                                contentEditable='false' \r\n                                dangerouslySetInnerHTML={{ __html: `${this.state.textArea}` }}>\r\n                                </div>\r\n                        </div>\r\n                        <br/>\r\n                        <hr/>\r\n                        <div className='save-my-post-btn'>\r\n                            {sendBtn}\r\n                        </div>\r\n                        \r\n                    </div>\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nexport default connect( mapStateToProps, mapDispatchToProps )(CreatePost);","import CreatePost from './CreatePost';\r\nexport default CreatePost;","import React, { useState, useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport {Link} from \"react-router-dom\";\r\n\r\nimport gotServices from '../gotService/gotService.js';\r\nimport getAvatar from '../getAvatar';\r\nimport gotTime from '../gotTime/gotTime'\r\nimport mapDispatchToProps from '../actionsRedux';\r\n\r\nconst mapStateToProps = (store) => ({...store});\r\n\r\n\r\n\r\n\r\n\r\nfunction SearchInfo (props) {\r\n    let gotService = new gotServices();\r\n\r\n    const [typeSearch, setTypeSearch] = useState(true);\r\n    const [searchText, setSearchText] = useState('');\r\n\r\n    function chengeBtn1() {\r\n        if (!typeSearch) {\r\n            setTypeSearch(true);\r\n        }\r\n    }\r\n    function chengeBtn2() {\r\n        if (typeSearch) {\r\n            setTypeSearch(false);\r\n        }\r\n    }\r\n\r\n    function search() {\r\n        if(searchText !== '') {\r\n            gotService.findUsersAndPosts(searchText)\r\n                .then(res=> props.putInfoSearch(res), err=> console.log(err))\r\n        }\r\n    }\r\n\r\n\r\n    useEffect(()=> {\r\n        return ()=> props.putInfoSearch({postsArr: null, usersArr: null});\r\n    },[])\r\n\r\n\r\n\r\n\r\n\r\n    const val1 = typeSearch ? \"btn btn-dark btn-change\" : \"btn btn-outline-dark btn-change\";\r\n    const val2 = typeSearch ? \"btn btn-outline-dark btn-change\" : \"btn btn-dark btn-change\";\r\n    const postsArr = props.search.postsArr;\r\n    const usersArr = props.search.usersArr;\r\n    let posts, users;\r\n\r\n\r\n\r\n    if (!postsArr || !usersArr) {\r\n        posts = users = null;\r\n    } else {\r\n\r\n        if(postsArr.length === 0) {\r\n            posts = (<><div className='nothing-find'>Ничего не найдено :(</div></>)\r\n        } else {\r\n            posts = postsArr.map(i => {\r\n\r\n                return (\r\n                        <div key={i._id} className='page-posts'>\r\n                            <div className='d-flex justify-content-between'>\r\n                            <Link to={`/user/${i.userId}`} className='react-Link'>\r\n                                <div className='page-posts-user'>\r\n                                    <div className='page-posts-ava' style={getAvatar(i.avatar)}></div>\r\n\r\n                                    <span className='page-posts-nick'>{i.nick}</span>\r\n                                </div>\r\n                            </Link>\r\n                            <pre className='page-posts-time'>{gotTime(i.time)}</pre>\r\n                            </div>\r\n                            <hr/>\r\n                            <h2>{i.title}</h2>\r\n                            <div className='superText' \r\n                                contentEditable='false' \r\n                                dangerouslySetInnerHTML={{ __html: `${i.text}` }}></div>              \r\n                        </div>\r\n                )\r\n            });\r\n        }\r\n\r\n        if(usersArr.length === 0) {\r\n            users = (<><div className='nothing-find'>Ничего не найдено :(</div></>)\r\n        } else {\r\n            users = usersArr.map(i=> \r\n                <div key={i._id} className='page-posts'>\r\n                    <div className='d-flex justify-content-between'>\r\n                    <Link to={`/user/${i._id}`} className='react-Link'>\r\n                        <div className='page-posts-user'>\r\n                            <div className='page-posts-ava' style={getAvatar(i.avatar)}></div>\r\n\r\n                            <span className='page-posts-nick'>{i.nick}</span>\r\n                        </div>\r\n                    </Link>\r\n                    </div>        \r\n                </div>\r\n                )\r\n        }\r\n    }\r\n\r\n\r\n    const content = typeSearch ? posts : users;\r\n\r\n    return (\r\n        <>\r\n            <div className='container'>\r\n                    <div className=\"form-inline w-100\">\r\n                        <div className='row w-100'>\r\n                            <div className='col-12'>\r\n                                <div className='d-flex search-inp-btn-width w-100'>\r\n                                    <input value={searchText} onChange={(e)=> setSearchText(e.target.value)} className=\"form-control\" placeholder=\"Поиск\" aria-label=\"Search\"/>\r\n                                    <button onClick={()=> search()} className=\"btn btn-secondary\">Найти</button>\r\n                                </div>\r\n                            </div>\r\n                        </div>     \r\n                    </div>\r\n                    <div className='row'>\r\n                        <div className='col-12 col-sm-8 offset-sm-2 col-md-6 offset-md-3'>\r\n                            <div className='d-flex'>\r\n                                <button onClick={() => chengeBtn1()} className={val1}>Посты</button>\r\n                                <button onClick={() => chengeBtn2()} className={val2}>Пользователи</button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {content}\r\n\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\n\r\nconst ListItem = (p) => <>{p.children}</>;\r\n\r\nexport default connect( mapStateToProps, mapDispatchToProps )(SearchInfo);","import SearchInfo from './SearchInfo';\r\nexport default SearchInfo;","import React, { useState, useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport {Link} from \"react-router-dom\";\r\n\r\nimport getAvatar from '../getAvatar';\r\nimport gotTime from '../gotTime/gotTime';\r\nimport gotServices from '../gotService/gotService.js';\r\nimport mapDispatchToProps from '../actionsRedux';\r\n\r\nconst mapStateToProps = (store) => ({...store});\r\n\r\n\r\n\r\nconst AdminPage = (props) => {\r\n    let gotService = new gotServices();\r\n\r\n    const [searchText, setSearchText] = useState('');\r\n    const [allow, setAllow] = useState(true);\r\n\r\n    const dropping = {\r\n        skip: 0,\r\n        user: {},\r\n        postsArr: [],\r\n        amountPosts: null,\r\n        status: true,\r\n        statistic:{users: 0, posts: 0}\r\n    }\r\n\r\n    useEffect(()=>{\r\n        window.addEventListener('scroll', onScrollList);\r\n\r\n        return ()=> {\r\n            window.removeEventListener('scroll', onScrollList);\r\n            props.putInfoAdmin(dropping)\r\n        };\r\n    },[])\r\n\r\n\r\n    function search() {\r\n        if(searchText !== '') {\r\n\r\n            gotService.findUser(0, props.data.token, null, searchText)\r\n                .then(res=> {\r\n                    const {_id, nick, email, avatar, active, amountPosts, postsArr} = res\r\n                    if (_id && nick && email && avatar && postsArr) {\r\n                        props.putInfoAdmin({\r\n                            skip: props.addSkip,\r\n                            user: {_id, nick, email, avatar, active},\r\n                            postsArr,\r\n                            amountPosts,\r\n                            status: true\r\n                        })\r\n                    } else {\r\n                        props.putInfoAdmin({...dropping, ...{status: false}})\r\n                    }\r\n                }, err=> console.log(err))\r\n        }\r\n    }\r\n\r\n\r\n    function onScrollList(event) {\r\n        \r\n        if(!event.target.scrollingElement) return;\r\n\r\n        let scrollBottom = event.target.scrollingElement.scrollTop + \r\n            event.target.scrollingElement.offsetHeight > event.target.scrollingElement.scrollHeight/100*92;\r\n\r\n        if (scrollBottom && allow) {\r\n            setAllow(false)\r\n        }\r\n    }\r\n\r\n\r\n    useEffect(()=> {\r\n        if (!allow) {\r\n            updateAgain();\r\n        }\r\n    }, [allow])\r\n\r\n\r\n    const updateAgain = () => {\r\n        const adminInfo = props.adminInfo;\r\n\r\n        if (adminInfo.amountPosts - adminInfo.skip > (-props.addSkip)){\r\n\r\n            gotService.findUser(adminInfo.skip, props.data.token, adminInfo.user._id)\r\n            .then(res=> \r\n                props.putInfoAdmin({\r\n                    skip: adminInfo.skip + props.addSkip,\r\n                    postsArr: [...adminInfo.postsArr, ... res.postsArr],\r\n                }))\r\n            .then(()=> setAllow(true))\r\n            .catch(err=> console.log(err));\r\n        }\r\n    }\r\n\r\n\r\n    useEffect(()=>{\r\n\r\n        if (props.data && props.data.token) {\r\n            gotService.getStatistics(props.data.token)\r\n            .then((res)=> props.putInfoAdmin(res))\r\n            .catch(err=> console.log(err));\r\n        }\r\n    }, [props.adminInfo.statistic.users, props.adminInfo.statistic.posts]);\r\n\r\n\r\n\r\n    const deleteMessage = (_id) => {\r\n        gotService.deletePost(_id, props.data.token)\r\n        .then(res => {\r\n                console.log({res});\r\n\r\n                if (res.msg === 'DELETE') {\r\n                    const arr = props.adminInfo.postsArr.filter(i => (i._id !== _id))\r\n                    \r\n                    props.putInfoAdmin({\r\n                        postsArr: arr, \r\n                        amountPosts: props.adminInfo.amountPosts - 1})\r\n                } else {\r\n                    console.log('ERROR')\r\n                }\r\n        })\r\n        .catch(err=> console.log(err));\r\n    }\r\n\r\n    const blockUnblock = () => {\r\n        gotService.blockUnblock(props.adminInfo.user._id, props.data.token)\r\n            .then(res=> {\r\n                const u = props.adminInfo.user;\r\n                if(res.msg === 'BECOME_FALSE') {\r\n                    props.putInfoAdmin({\r\n                        user: {...u, ...{active: false}}\r\n                    })\r\n                }\r\n                else if (res.msg === 'BECOME_TRUE') {\r\n                    props.putInfoAdmin({\r\n                        user: {...u, ...{active: true}}\r\n                    })\r\n                } else {\r\n                    console.log('ERROR')\r\n                }\r\n            })\r\n            .catch(err=> console.log(err));\r\n    }\r\n\r\n    const deleteUser = () => {\r\n        const answ = prompt(`Аккаунт с постами удалиться навсегда и восстановлению подлежать не будет! Для удаления введите \"delete\"`);\r\n        if (answ === 'delete') {\r\n            gotService.deleteUser(props.adminInfo.user._id, props.data.token)\r\n                .then(res=> {\r\n                    if (res.msg === 'DELETE') {\r\n                        props.putInfoAdmin(dropping)\r\n                    }\r\n                })\r\n                .catch(err=> console.log(err));\r\n        } \r\n    }\r\n\r\n    const deleteAvatar = () => {\r\n        const p = props.adminInfo;\r\n        if (p.user.avatar !== 'false') {\r\n            gotService.deletePictureAdmin(p.user._id, p.user.avatar, props.data.token)\r\n            .then(res=> {\r\n                if (res.msg && res.msg === 'DELETE') {\r\n                    props.putInfoAdmin({...p, ...{user: {...p.user, ...{avatar: 'false'}}}})\r\n                }\r\n                else {\r\n                    console.log(res.msg)\r\n                }\r\n            })\r\n            .catch(err=> console.log(err));\r\n        }\r\n    }\r\n\r\n    const  logOut = () => {\r\n        localStorage.removeItem('superJWT_');\r\n        props.cleanStore();\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    if (!props.data) {\r\n        return null;\r\n    } else if (!props.data.admin) {\r\n        return null;\r\n    }\r\n\r\n\r\n    let changeUser;\r\n    if (props.adminInfo.user._id) {\r\n        changeUser = props.adminInfo.user.active ? 'Заблокировать' : 'Разблокировать';\r\n    } else {\r\n        changeUser = 'Error'\r\n    }\r\n\r\n\r\n    const userProps = props.adminInfo;\r\n    let user, posts, message = null;\r\n\r\n    if (!userProps.user._id) {\r\n        user = null;\r\n\r\n    } else {\r\n        user = (<>\r\n                    <div className=\"d-flex flex-column bg-white w_100\">\r\n                        <div className=\"user-page-info d-flex justify-content-between\">\r\n                            <div className='d-flex'>\r\n                                <div className='user-page-img' style={getAvatar(userProps.user.avatar)}></div>\r\n                                <div>\r\n                                    <h4 className=\"mt-0\">{userProps.user.nick}</h4>\r\n                                    <div>Email: <i>{userProps.user.email}</i></div>\r\n                                    <div>Посты: <b>{userProps.amountPosts}</b></div>\r\n                                </div>\r\n                            </div>\r\n                            <div className='admin-btns'>\r\n                                <button onClick={()=> deleteAvatar()} className=\"btn btn-outline-danger\">Удалить Аву</button>\r\n                                <button onClick={()=> blockUnblock()} className=\"btn btn-outline-primary\">{changeUser}</button>\r\n                                <button onClick={()=> deleteUser()} className=\"btn btn-danger\">Удалить</button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </>)\r\n    }\r\n\r\n    posts = userProps.postsArr.map(i => {\r\n        return <ListItem  key={getSuperId()}>\r\n                    <div className='p-0 container'>\r\n                        <div className='page-posts-profile'>\r\n                            <pre className='page-posts-time'>{gotTime(i.time)}</pre>\r\n                            <br/>\r\n                            <h2>{(i.title)}</h2>\r\n                            <hr/>\r\n                            <div className='superText' \r\n                            contentEditable='false' \r\n                            dangerouslySetInnerHTML={{ __html: `${(i.text)}` }}></div>  \r\n\r\n                            <div className='edit-posts'>\r\n                                <button onClick={()=>deleteMessage(i._id)} className='btn btn-outline-danger'>Удалить</button>\r\n                            </div>\r\n                        </div> \r\n                    </div>\r\n                </ListItem>}\r\n        );\r\n\r\n\r\n\r\n    if (!userProps.status) {\r\n        user = posts = null;\r\n        message = (<><div className='nothing-find'>Ничего не найдено :(</div></>)\r\n    }\r\n\r\n\r\n    return (\r\n\r\n        <div onScroll={event => onScrollList(event)} className=\"container\">\r\n            <Link to=\"/\">\r\n                <button\r\n                    onClick={()=> logOut()} \r\n                    className='btn btn-danger mb-2'>Выйти\r\n                </button>\r\n            </Link>\r\n            \r\n            <div className='statistic-admin mb-3'>\r\n                <div><b>Статистика: </b></div>\r\n                <div><b>К-во ользователей: </b> {props.adminInfo.statistic.users} </div>\r\n                <div><b>К-во постов: </b> {props.adminInfo.statistic.posts} </div>\r\n            </div>\r\n\r\n            <div className=\"form-inline w-100 mb-3\">\r\n                <div className='row w-100'>\r\n                    <div className='col-12'>\r\n                        <div className='d-flex search-inp-btn-width w-100'>\r\n                            <input value={searchText} onChange={(e)=> \r\n                                setSearchText(e.target.value)} className=\"form-control\" \r\n                                placeholder=\"Ник или E-mail\" aria-label=\"Search\"\r\n                            />\r\n\r\n                            <button onClick={()=> search()} className=\"btn btn-secondary\">Найти</button>\r\n                        </div>\r\n                    </div>\r\n                </div>     \r\n            </div>\r\n            {message}\r\n            {user}\r\n            {posts}\r\n\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\n\r\nconst ListItem = (p) => <>{p.children}</>;\r\n\r\n\r\nfunction getSuperId() {\r\n    return ''+ Math.random().toString(36).slice(2)+Math.random().toString(36).slice(2)+Math.random().toString(36).slice(2);\r\n}\r\n\r\n\r\nexport default connect( mapStateToProps, mapDispatchToProps )(AdminPage);","import AdminPage from './AdminPage';\r\nexport default AdminPage;","import React, { useState, useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport {Link} from \"react-router-dom\";\r\n\r\nimport getAvatar from '../getAvatar';\r\nimport gotServices from '../gotService/gotService.js';\r\nimport mapDispatchToProps from '../actionsRedux';\r\n\r\nconst mapStateToProps = (store) => ({...store});\r\n\r\n\r\n\r\nfunction EditProfile(props) {\r\n    const gotService = new gotServices();\r\n\r\n    const [nick, setNick] = useState('');\r\n    const [email, setEmail] = useState('');\r\n\r\n    const [changePass, setChangePass] = useState(false);\r\n\r\n    const [oldPass, setOldPass] = useState('');\r\n    const [newPass1, setNewPass1] = useState('');\r\n    const [newPass2, setNewPass2] = useState('');\r\n\r\n    const [warnMsg1, setWarnMsg1] = useState(1);\r\n    const [warnMsg2, setWarnMsg2] = useState(1);\r\n    const [warnMsg3, setWarnMsg3] = useState(1);\r\n    const [choosePicture, setChoosePicture]= useState(false);\r\n\r\n    let fileInput = React.createRef();\r\n\r\n    useEffect(()=>{\r\n        (async()=>{\r\n\r\n            if(props.data) {\r\n                await setNick(props.data.nick);\r\n                await setEmail(props.data.email);\r\n            }\r\n\r\n        })();\r\n    }, [props.data])\r\n\r\n    const setBtnPass = () => {\r\n        if(changePass) {\r\n            setChangePass(false);\r\n        } else {\r\n            setChangePass(true);\r\n        }\r\n    }\r\n\r\n\r\n    const saveNickEmail = () => {\r\n        if (!props.data) {\r\n            return\r\n        }\r\n        const reg = /^([A-Za-z0-9_\\-\\.])+\\@([A-Za-z0-9_\\-\\.])+\\.([A-Za-z]{2,4})$/;\r\n\r\n        if (nick === '' || email === '') {\r\n            setWarnMsg1(2);\r\n        } else if (nick === props.data.nick && email === props.data.email) {}\r\n\r\n        else if (nick === props.data.nick) {\r\n            if (reg.test(email)) {\r\n                gotService.changeNickEmail(null, email, props.data.token)\r\n                    .then(res=> {\r\n                        if (res.msg) {\r\n                            setWarnMsg1(6);\r\n                        } else {\r\n                            (async()=>{\r\n                                localStorage.setItem('superJWT_', res.token);\r\n                                await props.putStore(res);\r\n                                setWarnMsg1(3);\r\n                            })();\r\n                        }\r\n                    })\r\n                    .catch(err=> console.log(err));\r\n            } else {\r\n                setWarnMsg1(4);\r\n            }\r\n        }\r\n        else if (email === props.data.email){\r\n            if (chackNick(nick)) {\r\n                gotService.changeNickEmail(nick, null, props.data.token)\r\n                    .then(res=> {\r\n                        console.log(res)\r\n                        if (res.msg) {\r\n                            setWarnMsg1(7);\r\n                        } else {\r\n                            (async()=>{\r\n                                localStorage.setItem('superJWT_', res.token);\r\n                                await props.putStore(res);\r\n                                setWarnMsg1(3);\r\n                            })();\r\n                        }\r\n                    })\r\n                    .catch(err=> console.log(err));\r\n            } else {\r\n                setWarnMsg1(5);\r\n            }\r\n        }\r\n        else {\r\n            if (reg.test(email) && chackNick(nick)) {\r\n                gotService.changeNickEmail(nick, email, props.data.token)\r\n                    .then(res=> {\r\n                        if (res.msg) {\r\n                            setWarnMsg1(9);\r\n                        } else {\r\n                            (async()=>{\r\n                                localStorage.setItem('superJWT_', res.token);\r\n                                await props.putStore(res);\r\n                                setWarnMsg1(3);\r\n                            })();\r\n                        }\r\n                    })\r\n                    .catch(err=> console.log(err));\r\n            } else {\r\n                setWarnMsg1(8);\r\n            }\r\n        }\r\n    }\r\n\r\n    const saveNewPassword = () => {\r\n        if (!props.data) {\r\n            return\r\n        }\r\n        if (oldPass==='' || newPass1==='' || newPass2==='') {\r\n            setWarnMsg2(2);\r\n        }\r\n        else if (oldPass<4 && oldPass>30 && newPass1<4 && newPass1>30 && newPass2<4 && newPass2>30) {\r\n            setWarnMsg2(2);\r\n        }\r\n        else if (newPass1 !== newPass2) {\r\n            setWarnMsg2(3);\r\n        } else {\r\n            gotService.changePassword(oldPass, newPass2, props.data.token)\r\n                .then(res => {\r\n                    if (res.msg) {\r\n                        if (res.msg === 'WRONG') {\r\n                            setWarnMsg2(5);\r\n                        } else if(res.msg === 'CHANGED') {\r\n                            (async()=>{\r\n                                await setWarnMsg2(6);\r\n                                await setOldPass('');\r\n                                await setNewPass1('')\r\n                                await setNewPass2('')\r\n                            })();\r\n                            \r\n                        } else {\r\n                            setWarnMsg2(4);\r\n                        }\r\n                    }\r\n                    else {\r\n                        setWarnMsg2(4);\r\n                    }\r\n                })\r\n                .catch(err=> console.log(err));\r\n        }\r\n\r\n    }\r\n\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n\r\n        const file = fileInput.files[0];\r\n\r\n\r\n        if(!file) {\r\n            setWarnMsg3(2);\r\n        }\r\n        else if(file.size > 1024*1024*10) {\r\n            setWarnMsg3(3);\r\n        }\r\n        else if (file.type!=='image/jpeg' && file.type!=='image/png') {\r\n            setWarnMsg3(4);\r\n        } \r\n        else {\r\n            let formData = new FormData();\r\n            formData.append('file', file);\r\n            gotService.addPicture(formData, props.data.token)\r\n                .then(res=> {\r\n                    if (res.msg) {\r\n                        setWarnMsg3(5);\r\n                    }\r\n                    else {\r\n                        (async()=>{\r\n                            localStorage.setItem('superJWT_', res.token);\r\n                            fileInput.value='';\r\n                            await props.putStore(res);\r\n                            setChoosePicture(false);\r\n                        })();\r\n                    }\r\n                })\r\n                .catch(err=> console.log(err));\r\n        }\r\n    } \r\n\r\n    function setFileInputInfo() {\r\n\r\n        if (fileInput.files[0]) {\r\n            setChoosePicture(true);\r\n        } else {\r\n            setChoosePicture(false);\r\n        }\r\n    }\r\n\r\n\r\n    function deletePicture() {\r\n        gotService.deletePicture(props.data.token)\r\n            .then(res=>{\r\n                if (res.msg) {\r\n                    console.log(res.msg);\r\n                } else {\r\n                    localStorage.setItem('superJWT_', res.token);\r\n                    props.putStore(res);\r\n                }\r\n            })\r\n            .catch(err=> console.log(err));\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    if (!props.data) {\r\n        return null;\r\n    }\r\n\r\n    const data = props.data;\r\n    const deleteIMG = data.avatar === 'false' ? null: (<button onClick={()=> deletePicture()} className=\"btn btn-outline-danger\">Удалить</button>);\r\n    const btnPassword = changePass ? 'Отмена' : 'Изменить пароль';\r\n\r\n\r\n\r\n    let save1;\r\n    switch(warnMsg1) {\r\n        case 1:\r\n            save1 = <button onClick={()=> saveNickEmail()} className=\"btn btn-success ml-2\">Сохранить</button>\r\n            break;\r\n        case 2:\r\n            save1 = <button disabled className='btn btn-outline-danger ml-2'>Поля не должны быть пустыми</button>\r\n            break;\r\n        case 3: \r\n            save1 = <button onClick={()=> saveNickEmail()} className=\"btn btn-success ml-2\">Изменения сохранены!</button>\r\n            break;\r\n        case 4:\r\n            save1 = <button disabled className='btn btn-outline-danger ml-2'>Некоректный E-mail</button>\r\n            break;\r\n        case 5:\r\n            save1 = <button disabled className='btn btn-outline-danger ml-2'>Nick должен содержать только: A-Za-z0-9_</button>\r\n            break;\r\n        case 6:\r\n            save1 = <button disabled className='btn btn-outline-danger ml-2'>Такой E-mail уже существует</button>\r\n            break;\r\n        case 7:\r\n            save1 = <button disabled className='btn btn-outline-danger ml-2'>Такой Nick уже существует</button>\r\n            break;\r\n        case 8:\r\n            save1 = <button disabled className='btn btn-outline-danger ml-2'>Некоректный Nick или Email</button>\r\n            break;\r\n        case 9:\r\n            save1 = <button disabled className='btn btn-outline-danger ml-2'>Nick или E-mail уже существует</button>\r\n            break;\r\n    }\r\n\r\n\r\n    let save2;\r\n    switch (warnMsg2) {\r\n        case 1:\r\n            save2 = <button onClick={()=> saveNewPassword()} className=\"btn btn-success mb-5 mt-3\">Сохранить</button>;\r\n            break;\r\n        case 2: \r\n            save2 = <button disabled className='btn btn-outline-danger mb-5 mt-3'>Пароль должен содержать 4-30 символов</button>\r\n            break;\r\n        case 3: \r\n            save2 = <button disabled className='btn btn-outline-danger mb-5 mt-3'>Новые пароли несовпадают</button>\r\n            break;\r\n        case 4: \r\n            save2 = <button disabled className='btn btn-outline-danger mb-5 mt-3'>Ошибка</button>\r\n            break;\r\n        case 5: \r\n            save2 = <button disabled className='btn btn-outline-danger mb-5 mt-3'>Неправильный старый пароль</button>\r\n            break;\r\n        case 6: \r\n            save2 = <button className='btn btn-success mb-5 mt-3'>Пароль изменен!</button>\r\n            break;\r\n    }\r\n\r\n\r\n    let save3;\r\n    switch(warnMsg3) {\r\n        case 1:\r\n            save3 = <button type=\"submit\" className='btn btn-success'>Сохранить</button>;\r\n            break;\r\n        case 2:\r\n            save3 = <button disabled className='btn btn-outline-danger'>Файл не выбран</button>\r\n            break;\r\n        case 3:\r\n            save3 = <button disabled className='btn btn-outline-danger'>Макс-размер 10Мб</button>\r\n            break;\r\n        case 4:\r\n            save3 = <button disabled className='btn btn-outline-danger'>Только .png, .jpg, .jpeg</button>\r\n            break;\r\n        case 5:\r\n            save3 = <button disabled className='btn btn-outline-danger'>Ошибка</button>\r\n            break;\r\n    }\r\n\r\n    const fileInputMSG = choosePicture ? 'Картинка выбрана!' : 'Выбрать картинку';\r\n\r\n    const passwordField = !changePass ? null : \r\n                    (<>\r\n                        <div className='edit-password'>\r\n                            <div className='edit-password-msg'>Изменение пароля</div>\r\n                            <span>Минимальная длина - 4 символа</span>\r\n                            <label> Старый пароль:\r\n                                <input type='password' onChange={(e)=> {setOldPass(e.target.value); setWarnMsg2(1)}} value={oldPass}></input>\r\n                            </label>\r\n                            <label> Новый пароль:\r\n                                <input type='password' onChange={(e)=> {setNewPass1(e.target.value); setWarnMsg2(1)}} value={newPass1}></input>\r\n                            </label>\r\n                            <label> Повторите новый пароль:\r\n                                <input type='password' onChange={(e)=> {setNewPass2(e.target.value); setWarnMsg2(1)}} value={newPass2}></input>\r\n                            </label>\r\n\r\n                            {save2}\r\n\r\n                        </div>\r\n                    </>)\r\n\r\n\r\n\r\n    return (\r\n        <>\r\n        <div className='container bg-white'>\r\n            <div className='edit-profile'>\r\n                <div className='edit-profile-wrap'>\r\n                    <div>\r\n                        <div className='edit-profile-picture'>\r\n                            <div className='edit-profile-img' style={getAvatar(data.avatar)}></div>\r\n                            <form className='form-file' encType=\"multipart/form-data\" onSubmit={(e)=>handleSubmit(e)}> \r\n                                <label onChange={()=>setFileInputInfo()} onClick={()=> setWarnMsg3(1)} className='btn btn-primary'>\r\n                                    \r\n                                    {fileInputMSG}\r\n                                    <input className='d-none' type=\"file\" ref={ref => {fileInput = ref}} />\r\n\r\n                                </label>\r\n                                {save3}\r\n                            </form>\r\n                            {deleteIMG}\r\n                        </div>\r\n                    </div>\r\n                    <div className='edit-profile-form'>\r\n                        <label>\r\n                            <b>Nick:</b>   <input \r\n                                            onChange={(e)=> {setNick(e.target.value); setWarnMsg1(1)}} \r\n                                            value={nick}></input>\r\n                        </label>\r\n                        <br/>\r\n                        <label>\r\n                            <b>Email:</b>   <input \r\n                                            onChange={(e)=> {setEmail(e.target.value); setWarnMsg1(1)}} \r\n                                            value={email}></input>\r\n                        </label>\r\n                        <br/>\r\n                            {save1}\r\n                        <br/>\r\n                        <br/>\r\n                        <button onClick={()=> setBtnPass()} className=\"btn btn-outline-primary ml-2\">{btnPassword}</button>\r\n                    </div>\r\n                </div>\r\n\r\n                <Link to='/owner'>\r\n                    <button type=\"button\" className=\"close\" aria-label=\"Close\">\r\n                        <span aria-hidden=\"true\">&times;</span>\r\n                    </button>\r\n                </Link>\r\n\r\n            </div>\r\n            {passwordField}\r\n\r\n        </div>\r\n        </>\r\n    )\r\n}\r\n\r\nfunction chackNick(str) {\r\n    if (str.length > 30) {\r\n        return false\r\n    }\r\n    const arr = str.split('');\r\n    for (let item of arr) {\r\n        let i = item.charCodeAt();\r\n        if (i===95 || (i>47 && i<58) || (i>63 && i<91) || (i>96 && i<123)) {}\r\n        else return false;\r\n    }\r\n    return true;\r\n}\r\n\r\n\r\nexport default connect( mapStateToProps, mapDispatchToProps )(EditProfile);","import EditProfile from './EditProfile';\r\nexport default EditProfile;","import React, { useState, useEffect } from 'react';\r\nimport {\r\n    Switch,\r\n    Route,\r\n    Redirect\r\n} from \"react-router-dom\";\r\nimport { connect } from 'react-redux';\r\n\r\nimport Nav from '../Nav';\r\nimport Footer from '../Footer';\r\nimport MainPage from '../MainPage';\r\nimport EnterForm from '../EnterForm';\r\nimport CheckInForm from '../CheckInForm';\r\nimport UserPage from '../UserPage';\r\nimport UserPageOwner from '../UserPageOwner';\r\nimport CreatePost from '../CreatePost';\r\nimport SearchInfo from '../SearchInfo';\r\nimport AdminPage from '../AdminPage';\r\nimport EditProfile from '../EditProfile';\r\n\r\nimport mapDispatchToProps from '../actionsRedux';\r\nimport gotServices from '../gotService/gotService.js';\r\n\r\n\r\n\r\nconst mapStateToProps = (store) => ({...store});\r\n\r\n\r\n\r\n\r\n// AUTH_LOGIN - приходит токен\r\n// редьюсер его парсит, возвращает это в хранилище\r\n// +локалсторедж\r\n// AUTH_LOGOUT - empty {}, localStorage.removeItem\r\n\r\n// on load (just in global scope, below createStore(..))\r\n// if localstorage contains token, dispatch AUTH_LOGIN with localstorage token\r\n\r\n\r\nfunction App(props) {\r\n    const gotService = new gotServices();\r\n\r\n    const [myInterval, setMyInterval] = useState(-1);\r\n\r\n    useEffect(()=>{\r\n        const jwt = localStorage.getItem('superJWT_');\r\n\r\n        if(jwt && !props.data) {\r\n            gotService.getJWT(jwt)\r\n                .then(res=> {\r\n                    if (res.msg === 'BLOCKED' || res.msg === 'NOT_FOUND') {\r\n                        localStorage.removeItem('superJWT_');\r\n                    } else {\r\n                        return props.putStore(res)\r\n                    }\r\n                })\r\n                .catch(err=> console.log(err));\r\n        } \r\n    })\r\n\r\n    useEffect(()=>{\r\n        const jwt = localStorage.getItem('superJWT_');\r\n        clearInterval(myInterval);\r\n\r\n        if (jwt && props.data && props.data.token) {\r\n            \r\n            const intervalMark = setInterval(async ()=>{\r\n                await setMyInterval(intervalMark);\r\n\r\n                gotService.trackUser(props.data.token)\r\n                    .then(res=> {\r\n                        if (res.msg === 'ALL_OK') {\r\n\r\n                        } else if (res.msg === 'CLEAN_STORE') {\r\n\r\n                            clearInterval(myInterval);\r\n                            localStorage.removeItem('superJWT_');\r\n                            props.cleanStore();\r\n\r\n                        } \r\n                        else {\r\n                            console.log('Error in trackUser')\r\n                        }\r\n                    })\r\n                    .catch(err=> console.log(err));\r\n            }, 5000)\r\n        }\r\n    }, [props.data])\r\n\r\n\r\n    useEffect(()=>{\r\n        return ()=> clearInterval(myInterval);\r\n    }, [])\r\n\r\n    return(\r\n        <>\r\n            <div className='wrapper'>\r\n                <div className='main-background'></div>\r\n                <section className='main-part'>\r\n\r\n                    <Nav owner={props.data} />\r\n\r\n                    <Switch>\r\n\r\n                        <Route exact path='/'>\r\n                            <MainPage/>\r\n                        </Route>\r\n\r\n                        <Route exact path='/user/editprofile'>\r\n                            <EditProfile/>\r\n                        </Route>\r\n\r\n                        <Route exact path='/searching'>\r\n                            <SearchInfo/>\r\n                        </Route>\r\n\r\n                        <Route exact path='/user/:id' render={({match}) => (\r\n                                <UserPage idU={match}/>\r\n                        )}/>\r\n\r\n                        <Route path='/owner'>\r\n                            <UserPageOwner/>\r\n                        </Route>\r\n\r\n                        <Route path='/adminpage'>\r\n                            <AdminPage/>\r\n                        </Route>\r\n                            \r\n                        <Route path='/users/get'>\r\n                            <EnterForm/>\r\n                        </Route>\r\n\r\n                        <Route path='/createpost'>\r\n                            <CreatePost/>\r\n                        </Route>\r\n\r\n                        <Route path='/users/new'>\r\n                            <CheckInForm/>\r\n                        </Route>\r\n\r\n                        <Route path=\"*\">\r\n                            <MainPage/>\r\n                        </Route>\r\n\r\n                        <Redirect to=\"/\"/>\r\n                    </Switch>\r\n\r\n                </section>\r\n                <Footer/>\r\n            </div>\r\n        </>\r\n    )\r\n\r\n};\r\n\r\nexport default connect( mapStateToProps, mapDispatchToProps )(App);","import App from './App';\r\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { BrowserRouter as Router} from \"react-router-dom\";\nimport { createStore, applyMiddleware } from 'redux';\nimport thunk from 'redux-thunk';\nimport { Provider } from 'react-redux';\n\n\n\n\nconst initialState = {\n\tdata: null,\n\taddSkip: 10,\n\tmainPage: {\n\t\tpostsArr: [],\n        skip: 0,\n\t\tamountPosts: null,\n\t},\n\tuserPage: {\n\t\tpostsArr: [],\n        skip: 0,\n        user: {},\n        amountPosts: null\n\t},\n\townerPage: {\n        skip: 0,\n        postsArr: [],\n        amountPosts: null\n\t},\n\tpost: {\n\t\t_id: null,\n\t\ttitle: '',\n\t\ttext: ''\n\t},\n\tsearch: {\n\t\tpostsArr: null,\n\t\tusersArr: null\n\t},\n\tadminInfo: {\n\t\tstatistic:{users: 0, posts: 0},\n\t\tstatus: true,\n\t\tskip: 0,\n\t\tuser: {},\n\t\tpostsArr: [],\n\t\tamountPosts: null\n\t}\n}\n\nconst reducer = (state = initialState, action) => {\n\t\n\tif (action.type === 'CLEAN_STATE') {\n\t\treturn {...state, ...{data: null}}\n\t}\n\telse if (action.type === 'PUT_STATE'){\n\t\treturn  {...state, ...{data: action.userData}}\n\t}\n\telse if (action.type === 'PUT_MAIN_PAGE_STATE'){\n\t\treturn  {...state, ...{mainPage: {...state.mainPage, ...action.mainPageStore}}}\n\t}\n\telse if (action.type === 'PUT_USER_PAGE_STATE'){\n\t\treturn  {...state, ...{userPage: {...state.userPage, ...action.userPageStore}}}\n\t}\n\telse if (action.type === 'PUT_OWNER_PAGE_STATE'){\n\t\treturn  {...state, ...{ownerPage: {...state.ownerPage, ...action.ownerPageStore}}}\n\t}\n\telse if (action.type === 'PUT_POST_INFO'){\n\t\treturn  {...state, ...{post: {...state.post, ...action.postInfo}}}\n\t}\n\telse if (action.type === 'PUT_SEARCH_INFO'){\n\t\treturn  {...state, ...{search: {...state.search, ...action.searchInfo}}}\n\t}\n\telse if (action.type === 'PUT_ADMIN_INFO'){\n\t\treturn  {...state, ...{adminInfo: {...state.adminInfo, ...action.adminInfo}}}\n\t}\n\telse\n\t\treturn state;\n}\n\n\nconst store = createStore(reducer, applyMiddleware(thunk));\n// store.subscribe(() => console.log(store.getState()))\n\n\n\nReactDOM.render(\n\t<Provider store={store}>\n\t\t<Router>\n\t\t\t<App />\n\t\t</Router>\n\t</Provider>,\n\tdocument.getElementById('root'));"],"sourceRoot":""}