(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{25:function(e,t,a){e.exports=a.p+"static/media/logo.2ed23f83.png"},35:function(e,t,a){e.exports=a.p+"static/media/search.8c1ab3c5.png"},36:function(e,t,a){e.exports=a.p+"static/media/profile-picture.ce247019.png"},37:function(e,t,a){e.exports=a.p+"static/media/instagram-icon.fc23b902.svg"},38:function(e,t){e.exports="data:image/png;base64,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"},40:function(e,t,a){e.exports=a(53)},45:function(e,t,a){},53:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a(0),s=a.n(r),c=a(23),o=a.n(c),l=(a(45),a(2)),i=a.n(l),u=a(5),m=a(8),p=a(7),d=a(6),f=a(9),b=a(11),E=a(13),g=a(12),h=a(4),v=a(25),k=a.n(v),N=a(35),O=a.n(N),w=a(36),A=a.n(w);function j(e){return"false"===e?{background:"url("+A.a+") center center / cover no-repeat #ffffff"}:{background:"url("+e+") center center / cover no-repeat #ffffff"}}var S=function(e){Object(E.a)(a,e);var t=Object(g.a)(a);function a(){return Object(f.a)(this,a),t.apply(this,arguments)}return Object(b.a)(a,[{key:"render",value:function(){var e,t=this.props.owner;return e=t?t.admin?s.a.createElement(h.b,{to:"/adminpage",className:"react-Link"},s.a.createElement("div",{className:"nav-profile",style:j(t.avatar)})):t._id?s.a.createElement(h.b,{to:"/owner",className:"react-Link"},s.a.createElement("div",{className:"nav-profile",style:j(t.avatar)})):null:s.a.createElement(h.b,{to:"/users/get",className:"react-Link"},s.a.createElement("button",{className:"btn btn-outline-success"},"\u0412\u043e\u0439\u0442\u0438")),s.a.createElement("header",null,s.a.createElement("nav",{className:"nav-bar bg-dark"},s.a.createElement("div",{className:"container d-flex justify-content-between align-items-center position-relative"},s.a.createElement(h.b,{to:"/",className:"react-Link"},s.a.createElement("div",{className:"nav-logo"},s.a.createElement("img",{src:k.a,alt:"Logotype"})),s.a.createElement("span",{className:"nav-logo-text"},"ProBird")),s.a.createElement("div",{className:"main-message"},"Tell your story ..."),s.a.createElement("div",{className:"d-flex"},s.a.createElement(h.b,{to:"/searching",className:"react-Link"},s.a.createElement("div",{className:"search-icon d-flex justify-content-center align-items-center"},s.a.createElement("img",{src:O.a,alt:"search icon"}))),e))))}}]),a}(r.Component),x=a(37),y=a.n(x);var T=function(){return s.a.createElement("footer",{className:"d-flex justify-content-center align-items-center"},s.a.createElement("div",{className:"container d-flex align-items-center"},s.a.createElement("div",{className:"row w-100"},s.a.createElement("div",{className:"col-12 col-md-3"},s.a.createElement("div",{className:"footer-left"},s.a.createElement(h.b,{to:"/",className:"react-Link"},s.a.createElement("div",{className:"footer-logo"},s.a.createElement("img",{src:k.a,alt:"Logotype"})),s.a.createElement("span",{className:"fotter-logo-text"},"ProBird")))),s.a.createElement("div",{className:"col-6 col-md-6"},s.a.createElement("div",{className:"footer-middle"},"\xa9 2020 ProBird. \u0412\u0441\u0435 \u043f\u0440\u0430\u0432\u0430 \u0437\u0430\u0449\u0438\u0449\u0435\u043d\u044b.")),s.a.createElement("div",{className:"col-6 col-md-3"},s.a.createElement("div",{className:"footer-right"},s.a.createElement("a",{href:"https://www.instagram.com/akulov__dima/?igshid=s6r1zca5ujoz",target:"_blank",rel:"noopener noreferrer"},s.a.createElement("img",{src:y.a,alt:"Link to instagramm"})))))))},P=a(16),C=a(38),_=a.n(C),I=function e(){Object(f.a)(this,e),this.makeCheckIn=function(){var e=Object(u.a)(i.a.mark((function e(t,a,n){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/users/new",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify({nick:t,email:a,password:n})});case 2:if((r=e.sent).ok){e.next=7;break}throw new Error("COULD_NOT_GET_DATA");case 7:return e.next=9,r.json();case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),this.makeEnter=function(){var e=Object(u.a)(i.a.mark((function e(t,a){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/users/get",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify({email:t,password:a})});case 2:if((n=e.sent).ok){e.next=7;break}throw new Error("COULD_NOT_GET_DATA");case 7:return e.next=9,n.json();case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),this.createPost=function(){var e=Object(u.a)(i.a.mark((function e(t,a,n,r){var s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/posts/new",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify({token:t,userId:a,title:n,text:r})});case 2:if((s=e.sent).ok){e.next=7;break}throw new Error("COULD_NOT_GET_DATA");case 7:return e.next=9,s.json();case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}(),this.updatePost=function(){var e=Object(u.a)(i.a.mark((function e(t,a,n,r,s){var c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/posts/update",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify({token:t,userId:a,_id:n,title:r,text:s})});case 2:if((c=e.sent).ok){e.next=7;break}throw new Error("COULD_NOT_GET_DATA");case 7:return e.next=9,c.json();case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})));return function(t,a,n,r,s){return e.apply(this,arguments)}}(),this.deletePost=function(){var e=Object(u.a)(i.a.mark((function e(t,a,n){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/posts/delete",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"DELETE",body:JSON.stringify({_id:t,token:a,userId:n})});case 2:if((r=e.sent).ok){e.next=7;break}throw new Error("COULD_NOT_GET_DATA");case 7:return e.next=9,r.json();case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),this.getJWT=function(){var e=Object(u.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/",{method:"POST",headers:{Authorization:"Bearer "+t}});case 2:if((a=e.sent).ok){e.next=7;break}throw new Error("COULD_NOT_GET_DATA");case 7:return e.next=9,a.json();case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.findUser=function(){var e=Object(u.a)(i.a.mark((function e(t,a,n,r){var s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/user/find",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify({skip:t,token:a,userId:n,nickOrEmail:r})});case 2:if((s=e.sent).ok){e.next=7;break}throw new Error("COULD_NOT_GET_DATA");case 7:return e.next=9,s.json();case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}(),this.getPosts=function(){var e=Object(u.a)(i.a.mark((function e(t,a){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/posts/get",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify({skip:t,userId:a})});case 2:if((n=e.sent).ok){e.next=7;break}throw new Error("COULD_NOT_GET_DATA");case 7:return e.next=9,n.json();case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),this.findUsersAndPosts=function(){var e=Object(u.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/posts&users/find",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify({find:t})});case 2:if((a=e.sent).ok){e.next=7;break}throw new Error("COULD_NOT_GET_DATA");case 7:return e.next=9,a.json();case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.findAmountPosts=Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/posts/count",{method:"PUT"});case 2:if((t=e.sent).ok){e.next=7;break}throw new Error("COULD_NOT_GET_DATA");case 7:return e.next=9,t.json();case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)}))),this.findAmountUsersPosts=function(){var e=Object(u.a)(i.a.mark((function e(t,a,n){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/user/findposts",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify({userId:t,skip:a,firstTime:n})});case 2:if((r=e.sent).ok){e.next=7;break}throw new Error("COULD_NOT_GET_DATA");case 7:return e.next=9,r.json();case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),this.deleteUser=function(){var e=Object(u.a)(i.a.mark((function e(t,a){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/user/delete",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify({_id:t,token:a})});case 2:if((n=e.sent).ok){e.next=7;break}throw new Error("COULD_NOT_GET_DATA");case 7:return e.next=9,n.json();case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),this.getStatistics=function(){var e=Object(u.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/statistics",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify({token:t})});case 2:if((a=e.sent).ok){e.next=7;break}throw new Error("COULD_NOT_GET_DATA");case 7:return e.next=9,a.json();case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.blockUnblock=function(){var e=Object(u.a)(i.a.mark((function e(t,a){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/user/block&unblock",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify({_id:t,token:a})});case 2:if((n=e.sent).ok){e.next=7;break}throw new Error("COULD_NOT_GET_DATA");case 7:return e.next=9,n.json();case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),this.trackUser=function(){var e=Object(u.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/user/track",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify({token:t})});case 2:if((a=e.sent).ok){e.next=7;break}throw new Error("COULD_NOT_GET_DATA");case 7:return e.next=9,a.json();case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.changeNickEmail=function(){var e=Object(u.a)(i.a.mark((function e(t,a,n){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/user/changenickemail",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify({nick:t,email:a,token:n})});case 2:if((r=e.sent).ok){e.next=7;break}throw new Error("COULD_NOT_GET_DATA");case 7:return e.next=9,r.json();case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),this.changePassword=function(){var e=Object(u.a)(i.a.mark((function e(t,a,n){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/user/changepassword",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify({oldPass:t,NewPass:a,token:n})});case 2:if((r=e.sent).ok){e.next=7;break}throw new Error("COULD_NOT_GET_DATA");case 7:return e.next=9,r.json();case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),this.deletePicture=function(){var e=Object(u.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/deletepicture",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify({token:t})});case 2:if((a=e.sent).ok){e.next=7;break}throw new Error("COULD_NOT_GET_DATA");case 7:return e.next=9,a.json();case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.addPicture=function(){var e=Object(u.a)(i.a.mark((function e(t,a){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/addpicture",{headers:{Authorization:"Bearer "+a},method:"POST",body:t});case 2:if((n=e.sent).ok){e.next=7;break}throw new Error("COULD_NOT_GET_DATA");case 7:return e.next=9,n.json();case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),this.deletePictureAdmin=function(){var e=Object(u.a)(i.a.mark((function e(t,a,n){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/deletepictureadmin",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify({userId:t,avatar:a,token:n})});case 2:if((r=e.sent).ok){e.next=7;break}throw new Error("COULD_NOT_GET_DATA");case 7:return e.next=9,r.json();case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}()};var D=function(e){e=(""+e).slice(0,19);var t=new Date(e);return(+t.getDate()<10?"0"+t.getDate():t.getDate())+"."+(+t.getMonth()<=8?"0"+(t.getMonth()+1):t.getMonth()+1)+"."+t.getFullYear()+"  "+(+t.getHours()<10?"0"+t.getHours():t.getHours())+":"+(+t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes())},L=a(17),U=function(){return{type:"CLEAN_STATE"}},J=function(e){return{type:"PUT_STATE",userData:e}},M=function(e){return{type:"PUT_MAIN_PAGE_STATE",mainPageStore:e}},F=function(e){return{type:"PUT_USER_PAGE_STATE",userPageStore:e}},G=function(e){return{type:"PUT_OWNER_PAGE_STATE",ownerPageStore:e}},W=function(e){return{type:"PUT_POST_INFO",postInfo:e}},B=function(e){return{type:"PUT_SEARCH_INFO",searchInfo:e}},R=function(e){return{type:"PUT_ADMIN_INFO",adminInfo:e}},H=function(e){return Object(L.b)({cleanStore:U,putStore:J,putMainPageStore:M,putUserPageStore:F,putOwnerPageStore:G,putInfoPost:W,putInfoSearch:B,putInfoAdmin:R},e)},X=function(e){Object(E.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(f.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).gotService=new I,e.state={allow:!0},e.onScrollList=function(t){t.target.scrollingElement&&(t.target.scrollingElement.scrollTop+t.target.scrollingElement.offsetHeight>t.target.scrollingElement.scrollHeight/100*92&&e.state.allow&&(e.setState({allow:!1}),e.updateAgain()))},e.updateAgain=function(){var t=e.props.mainPage;t.amountPosts-t.skip>-e.props.addSkip&&e.gotService.getPosts(t.skip).then((function(a){e.props.putMainPageStore({skip:t.skip+e.props.addSkip,postsArr:[].concat(Object(P.a)(t.postsArr),Object(P.a)(a.postsArr))}),e.setState({allow:!0})})).catch((function(e){return console.log(e)}))},e}return Object(b.a)(a,[{key:"componentDidMount",value:function(){var e,t=this;window.addEventListener("scroll",this.onScrollList);var a=this.props.mainPage;this.gotService.findAmountPosts().then((function(t){e=t.msg}),(function(e){return console.log(e)})).then((function(){return t.gotService.getPosts(a.skip)})).then((function(n){return t.props.putMainPageStore({postsArr:n.postsArr,skip:a.skip+t.props.addSkip,amountPosts:e})}),(function(e){return console.log(e)}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.onScrollList),this.props.putMainPageStore({postsArr:[],skip:0,amountPosts:null})}},{key:"render",value:function(){var e=this,t=this.props.mainPage;if(!t.postsArr)return null;var a=t.postsArr.map((function(e){return s.a.createElement(Z,{key:""+Math.random().toString(36).slice(2)+Math.random().toString(36).slice(2)+Math.random().toString(36).slice(2)},s.a.createElement("div",{className:"page-posts"},s.a.createElement("div",{className:"d-flex justify-content-between"},s.a.createElement(h.b,{to:"/user/".concat(e.userId),className:"react-Link"},s.a.createElement("div",{className:"page-posts-user"},s.a.createElement("div",{className:"page-posts-ava",style:j(e.avatar)}),s.a.createElement("span",{className:"page-posts-nick"},e.nick))),s.a.createElement("pre",{className:"page-posts-time"},D(e.time))),s.a.createElement("hr",null),s.a.createElement("h2",null,e.title),s.a.createElement("div",{className:"superText",contentEditable:"false",dangerouslySetInnerHTML:{__html:"".concat(e.text)}})))}));return s.a.createElement("div",{className:"container"},s.a.createElement("div",{onScroll:function(t){return e.onScrollList(t)},className:"d-flex flex-column align-items-center"},s.a.createElement("div",{className:"main-page-msg"},s.a.createElement("h1",null,"\u0417\u0434\u0435\u0441\u044c \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0442\u0432\u043e\u0439 \u043f\u043e\u0441\u0442"),s.a.createElement("img",{className:"main-page-arrow",src:_.a,alt:"arrow"})),a))}}]),a}(r.Component),Z=function(e){return s.a.createElement(s.a.Fragment,null,e.children)};var z=Object(d.b)((function(e){return Object(n.a)({},e)}),H)(X),K=function(e){Object(E.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(f.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).gotService=new I,e.state={email:"",password:"",validate:!0,disabled:!1},e.inputEmailChange=function(t){e.setState({email:t.target.value,validate:!0})},e.inputPasswordChange=function(t){e.setState({password:t.target.value,validate:!0})},e.registerUser=function(){e.state.password.length>=4&&/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/.test(e.state.email)?(e.setState({disabled:!0}),e.gotService.makeEnter(e.state.email,e.state.password).then((function(t){t.msg?e.setState({disabled:!1,validate:!1}):(localStorage.setItem("superJWT_",t.token),e.props.putStore(t),window.location="/")})).catch((function(e){return console.log(e)}))):e.setState({validate:!1})},e}return Object(b.a)(a,[{key:"render",value:function(){return this.props.data?null:s.a.createElement("div",{className:"enter-form-bg"},s.a.createElement("div",{className:"enter-form my-enter-form"},s.a.createElement("div",{className:"d-flex w-100 justify-content-between align-items-start"},s.a.createElement("h2",null,"\u0412\u0445\u043e\u0434"),s.a.createElement(h.b,{to:"/"},s.a.createElement("button",{type:"button",className:"close","aria-label":"Close"},s.a.createElement("span",{"aria-hidden":"true"},"\xd7")))),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"inputEmail1"},"E-mail"),s.a.createElement("input",{onChange:this.inputEmailChange,value:this.state.email,type:"email",className:"form-control",id:"inputEmail1","aria-describedby":"emailHelp"})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"inputPassword1"},"\u041f\u0430\u0440\u043e\u043b\u044c"),s.a.createElement("input",{onChange:this.inputPasswordChange,value:this.state.password,type:"password",className:"form-control",id:"inputPassword1"}),s.a.createElement("span",{className:"form-hint"},"\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043c\u0438\u043d\u0438\u043c\u0443\u043c 4 \u0441\u0438\u043c\u0432\u043e\u043b\u0430")),s.a.createElement("div",{className:"form-wrap-btn"},this.state.validate?s.a.createElement("button",{disabled:this.state.disabled,onClick:this.registerUser,className:"btn btn-primary form-btn"},"\u0412\u043e\u0439\u0442\u0438"):s.a.createElement("button",{disabled:!0,className:"btn btn-outline-danger form-btn"},"\u041d\u0435\u043a\u043e\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c \u0438\u043b\u0438 email"),s.a.createElement(h.b,{to:"/users/new",className:"react-Link"},s.a.createElement("button",{className:"btn btn-outline-dark form-btn"},"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f")))))}}]),a}(r.Component),Q=Object(d.b)((function(e){return Object(n.a)({},e)}),H)(K),Y=a(28),V=function(e){Object(E.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(f.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).gotService=new I,e.state={email:"",password:"",nick:"",validate:1,disabled:!1},e.inputEmailChange=function(t){e.setState({email:t.target.value,validate:1})},e.inputNickChange=function(t){e.setState({nick:t.target.value,validate:1})},e.inputPasswordChange=function(t){e.setState({password:t.target.value,validate:1})},e.registerUser=function(){var t=e.state;""===t.email||""===t.password||""===t.nick?e.setState({validate:2}):/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/.test(t.email)?q(t.nick)?t.password.length<4||t.password.length>30?(console.log("gjutfjf"),e.setState({validate:5})):(e.setState({disabled:!0}),e.gotService.makeCheckIn(t.nick,t.email.toLocaleLowerCase(),t.password).then((function(t){"NICK_EXIST"===t.msg?e.setState({disabled:!1,validate:6}):"EMAIL_EXIST"===t.msg?e.setState({disabled:!1,validate:7}):t._id?(localStorage.setItem("superJWT_",t.token),e.props.putStore(t),window.location="/"):e.setState({disabled:!1,validate:8})})).catch((function(e){return console.log(e)}))):e.setState({validate:4}):e.setState({validate:3})},e}return Object(b.a)(a,[{key:"render",value:function(){if(this.props.data)return null;var e,t=this.state;if(t.disabled)e=s.a.createElement("button",{disabled:!0,className:"btn btn-success form-btn"},"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f");else switch(t.validate){case 1:e=s.a.createElement("button",{onClick:this.registerUser,className:"btn btn-success form-btn"},"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f");break;case 2:e=s.a.createElement("button",{disabled:!0,className:"btn btn-outline-danger form-btn"},"\u041f\u043e\u043b\u044f \u043d\u0435 \u0434\u043e\u043b\u0436\u043d\u044b \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c\u0438");break;case 3:e=s.a.createElement("button",{disabled:!0,className:"btn btn-outline-danger form-btn"},"\u041d\u0435\u043a\u043e\u0440\u0435\u043a\u0442\u043d\u044b\u0439 E-mail");break;case 4:e=s.a.createElement("button",{disabled:!0,className:"btn btn-outline-danger form-btn"},"Nick \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e: A-Za-z0-9_");break;case 5:e=s.a.createElement("button",{disabled:!0,className:"btn btn-outline-danger form-btn"},"\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c 4-30 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432");break;case 6:e=s.a.createElement("button",{disabled:!0,className:"btn btn-outline-danger form-btn"},"\u0422\u0430\u043a\u043e\u0439 \u041d\u0438\u043a \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442");break;case 7:e=s.a.createElement("button",{disabled:!0,className:"btn btn-outline-danger form-btn"},"\u0422\u0430\u043a\u043e\u0439 E-mail \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442");break;case 8:e=s.a.createElement("button",{disabled:!0,className:"btn btn-outline-danger form-btn"},"\u041e\u0448\u0438\u0431\u043a\u0430!")}return s.a.createElement("div",{className:"enter-form-bg"},s.a.createElement("div",{className:"enter-form my-register-form"},s.a.createElement("div",{className:"d-flex w-100 justify-content-between align-items-start"},s.a.createElement("h2",null,"\u0420\u0435\u0433\u0435\u0441\u0442\u0440\u0430\u0446\u0438\u044f"),s.a.createElement(h.b,{to:"/"},s.a.createElement("button",{type:"button",className:"close","aria-label":"Close"},s.a.createElement("span",{"aria-hidden":"true"},"\xd7")))),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"inputEmail2"},"E-mail"),s.a.createElement("input",{onChange:this.inputEmailChange,value:this.state.email,type:"email",className:"form-control",id:"inputEmail2","aria-describedby":"emailHelp"})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"inputText2"},"\u041d\u0438\u043a\u043d\u0435\u0439\u043c"),s.a.createElement("input",{onChange:this.inputNickChange,value:this.state.nick,type:"text",className:"form-control",id:"inputText2"})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"inputPassword2"},"\u041f\u0430\u0440\u043e\u043b\u044c"),s.a.createElement("input",{onChange:this.inputPasswordChange,value:this.state.pasword,type:"password",className:"form-control",id:"inputPassword2"}),s.a.createElement("span",{className:"form-hint"},"\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c 4-30 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432")),s.a.createElement("div",{className:"form-wrap-btn"},e)))}}]),a}(r.Component);function q(e){if(e.length>30)return!1;var t,a=e.split(""),n=Object(Y.a)(a);try{for(n.s();!(t=n.n()).done;){var r=t.value.charCodeAt();if(!(95===r||r>47&&r<58||r>63&&r<91||r>96&&r<123))return!1}}catch(s){n.e(s)}finally{n.f()}return!0}var $=Object(d.b)(null,H)(V),ee=function(e){Object(E.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(f.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).gotService=new I,e.state={allow:!0},e.onScrollList=function(t){t.target.scrollingElement&&(t.target.scrollingElement.scrollTop+t.target.scrollingElement.offsetHeight>t.target.scrollingElement.scrollHeight/100*92&&e.state.allow&&(e.setState({allow:!1}),e.updateAgain()))},e.updateAgain=function(){var t=e.props.userPage;t.amountPosts-t.skip>-e.props.addSkip&&e.gotService.findAmountUsersPosts(e.props.idU.params.id,t.skip).then((function(a){e.props.putUserPageStore({skip:t.skip+e.props.addSkip,postsArr:[].concat(Object(P.a)(t.postsArr),Object(P.a)(a.postsArr))}),e.setState({allow:!0})})).catch((function(e){return console.log(e)}))},e}return Object(b.a)(a,[{key:"componentDidMount",value:function(){var e=this;window.addEventListener("scroll",this.onScrollList),this.gotService.findAmountUsersPosts(this.props.idU.params.id,this.props.userPage.skip,!0).then((function(t){return e.props.putUserPageStore({postsArr:t.postsArr,user:{avatar:t.avatar,email:t.email,nick:t.nick},amountPosts:t.count,skip:e.props.userPage.skip+e.props.addSkip})}),(function(e){return console.log(e)}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.onScrollList),this.props.putUserPageStore({postsArr:[],skip:0,user:{},amountPosts:null})}},{key:"render",value:function(){var e=this,t=this.props.userPage;if(!t.user||!t.postsArr)return null;var a=t.user,n=t.postsArr.map((function(e){return s.a.createElement(te,{key:""+Math.random().toString(36).slice(2)+Math.random().toString(36).slice(2)+Math.random().toString(36).slice(2)},s.a.createElement("div",{className:"p-0 container"},s.a.createElement("div",{className:"page-posts-profile"},s.a.createElement("pre",{className:"page-posts-time"},D(e.time)),s.a.createElement("br",null),s.a.createElement("h2",null,e.title),s.a.createElement("hr",null),s.a.createElement("div",{className:"superText",contentEditable:"false",dangerouslySetInnerHTML:{__html:"".concat(e.text)}}))))}));return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"container bg-white"},s.a.createElement("div",{onScroll:function(t){return e.onScrollList(t)},className:"user-page bg-white"},s.a.createElement("div",{className:"d-flex flex-column w_100"},s.a.createElement("div",{className:"user-page-info d-flex justify-content-between"},s.a.createElement("div",{className:"d-flex"},s.a.createElement("div",{className:"user-page-img",style:j(a.avatar)}),s.a.createElement("div",null,s.a.createElement("h4",{className:"mt-0"},a.nick),s.a.createElement("div",null,"Email: ",s.a.createElement("i",null,a.email)),s.a.createElement("div",null,"\u041f\u043e\u0441\u0442\u044b: ",s.a.createElement("b",null,t.amountPosts)))))))),n)}}]),a}(r.Component),te=function(e){return s.a.createElement(s.a.Fragment,null,e.children)};var ae=Object(d.b)((function(e){return Object(n.a)({},e)}),H)(ee),ne=function(e){Object(E.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(f.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).gotService=new I,e.state={allow:!0,toCreatePost:!1},e.getPostsFirst=function(){var t=e.props.ownerPage,a=setInterval((function(){e.props.data&&(clearInterval(a),e.gotService.findAmountUsersPosts(e.props.data._id,t.skip,!0).then((function(a){return e.props.putOwnerPageStore({postsArr:a.postsArr,amountPosts:a.count,skip:t.skip+e.props.addSkip})}),(function(e){return console.log(e)})))}),10)},e.onScrollList=function(t){t.target.scrollingElement&&(t.target.scrollingElement.scrollTop+t.target.scrollingElement.offsetHeight>t.target.scrollingElement.scrollHeight/100*92&&e.state.allow&&(e.setState({allow:!1}),e.updateAgain()))},e.updateAgain=function(){var t=e.props.ownerPage;t.amountPosts-t.skip>-e.props.addSkip&&e.gotService.findAmountUsersPosts(e.props.data._id,t.skip).then((function(a){e.props.putOwnerPageStore({skip:t.skip+e.props.addSkip,postsArr:[].concat(Object(P.a)(t.postsArr),Object(P.a)(a.postsArr))}),e.setState({allow:!0})})).catch((function(e){return console.log(e)}))},e.changeMessage=function(t,a,n){t&&a&&n?(e.props.putInfoPost({_id:t,title:a,text:n}),e.setState({toCreatePost:!0})):console.log("Something go wrong")},e.deleteMessage=function(t){var a=e.props.data;e.gotService.deletePost(t,a.token,a._id).then((function(a){if(console.log({res:a}),"DELETE"===a.msg){var n=e.props.ownerPage.postsArr.filter((function(e){return e._id!==t}));e.props.putOwnerPageStore({postsArr:n,amountPosts:e.props.ownerPage.amountPosts-1})}else console.log("ERROR")})).catch((function(e){return console.log(e)}))},e.logOut=function(){localStorage.removeItem("superJWT_"),e.props.cleanStore()},e}return Object(b.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.onScrollList),this.getPostsFirst()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.onScrollList),this.props.putOwnerPageStore({skip:0,postsArr:[],amountPosts:null})}},{key:"render",value:function(){var e=this;if(!this.props.data)return null;if(this.state.toCreatePost)return s.a.createElement(p.a,{to:"/createpost"});var t,a=this.props.data,n=this.props.ownerPage;return t=n.postsArr?n.postsArr.map((function(t){return s.a.createElement(re,{key:""+Math.random().toString(36).slice(2)+Math.random().toString(36).slice(2)+Math.random().toString(36).slice(2)},s.a.createElement("div",{className:"p-0 container"},s.a.createElement("div",{className:"page-posts-profile"},s.a.createElement("pre",{className:"page-posts-time"},D(t.time)),s.a.createElement("br",null),s.a.createElement("h2",null,t.title),s.a.createElement("hr",null),s.a.createElement("div",{className:"superText",contentEditable:"false",dangerouslySetInnerHTML:{__html:"".concat(t.text)}}),s.a.createElement("div",{className:"edit-posts"},s.a.createElement("button",{onClick:function(){return e.changeMessage(t._id,t.title,t.text)},className:"btn btn-outline-primary"},"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"),s.a.createElement("button",{onClick:function(){return e.deleteMessage(t._id)},className:"btn btn-outline-danger"},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c")))))})):null,s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"container bg-white"},s.a.createElement("div",{onScroll:function(t){return e.onScrollList(t)},className:"user-page bg-white"},s.a.createElement("div",{className:"d-flex w_100"},s.a.createElement("div",{className:"user-page-info d-flex justify-content-between"},s.a.createElement("div",{className:"d-flex"},s.a.createElement("div",{className:"user-page-img",style:j(a.avatar)}),s.a.createElement("div",null,s.a.createElement("h4",{className:"mt-0"},a.nick),s.a.createElement("div",null,"Email: ",s.a.createElement("i",null,a.email)),s.a.createElement("div",null,"\u041f\u043e\u0441\u0442\u044b: ",s.a.createElement("b",null,n.amountPosts)),s.a.createElement(h.b,{to:"/user/editprofile"},s.a.createElement("button",{className:"btn btn-outline-dark btn-edit-profile"},"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c")))),s.a.createElement("div",null,s.a.createElement(h.b,{to:"/createpost"},s.a.createElement("button",{className:"btn btn-primary mr-4"},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u043e\u0441\u0442")),s.a.createElement(h.b,{to:"/"},s.a.createElement("button",{onClick:this.logOut,className:"btn btn-secondary"},"\u0412\u044b\u0439\u0442\u0438")))),s.a.createElement("hr",null)))),t)}}]),a}(r.Component),re=function(e){return s.a.createElement(s.a.Fragment,null,e.children)};var se=Object(d.b)((function(e){return Object(n.a)({},e)}),H)(ne),ce=function(e){Object(E.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(f.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).gotService=new I,e.state={title:"",textArea:""},e.title=function(t){e.setState({title:t.target.value})},e.textArea=function(t){e.setState({textArea:t.target.value})},e.break=function(){e.setState((function(e){return{textArea:e.textArea+"<br/>"}}))},e.bold=function(){e.setState((function(e){return{textArea:e.textArea+"<b></b>"}}))},e.italick=function(){e.setState((function(e){return{textArea:e.textArea+"<i></i>"}}))},e.underline=function(){e.setState((function(e){return{textArea:e.textArea+"<ins></ins>"}}))},e.deleted=function(){e.setState((function(e){return{textArea:e.textArea+"<s></s>"}}))},e.href=function(){var t=prompt("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 URL \u0441\u0441\u044b\u043b\u043a\u0438","http://");t&&e.setState((function(e){return{textArea:e.textArea+'<a href="'.concat(t,'"></a>')}}))},e.img=function(){var t=prompt("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 src \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0438","");t&&e.setState((function(e){return{textArea:e.textArea+'<img src="'.concat(t,'" target=\'_blank\' alt="something"/>')}}))},e.savePost=function(){var t=e.props.post,a=e.props.data;t._id&&t.title&&t.text?e.gotService.updatePost(a.token,a._id,t._id,e.state.title,e.state.textArea).then((function(e){return console.log(e)}),(function(e){return console.log(e)})):e.gotService.createPost(a.token,a._id,e.state.title,e.state.textArea).then((function(e){return console.log(e)}),(function(e){return console.log(e)}))},e}return Object(b.a)(a,[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){var t=e.props.post;e.setState({title:t.title,textArea:t.text})}),100)}},{key:"componentWillUnmount",value:function(){this.props.putInfoPost({_id:null,title:"",text:""})}},{key:"render",value:function(){if(!this.props.data||!this.props.data.token)return null;var e=this.props.post,t=e._id&&e.title&&e.text?"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f":"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u043f\u043e\u0441\u0442",a=""!==this.state.title&&""!==this.state.textArea?s.a.createElement(h.b,{to:"/owner"},s.a.createElement("button",{onClick:this.savePost,className:"btn btn-success"},t)):null;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"container bg-white create-post-form"},s.a.createElement("div",null,s.a.createElement(h.b,{to:"/owner"},s.a.createElement("button",{type:"button",className:"close","aria-label":"Close"},s.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"header-text"},"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a:",s.a.createElement("input",{onChange:this.title,value:this.state.title,className:"form-control"})),s.a.createElement("hr",null),s.a.createElement("div",{className:"chenge-textarea-btn"},s.a.createElement("button",{onClick:this.break,type:"button",className:"btn btn-outline-info"},"\u041f\u0435\u0440\u0435\u043d\u043e\u0441 \u0441\u0442\u0440\u043e\u043a\u0438"),s.a.createElement("button",{onClick:this.bold,type:"button",className:"btn btn-outline-info"},"\u0416\u0438\u0440\u043d\u044b\u0439"),s.a.createElement("button",{onClick:this.italick,type:"button",className:"btn btn-outline-info"},"\u041a\u0443\u0440\u0441\u0438\u0432"),s.a.createElement("button",{onClick:this.underline,type:"button",className:"btn btn-outline-info"},"\u041f\u043e\u0434\u0447\u0451\u0440\u043a\u043d\u0443\u0442\u044b\u0439"),s.a.createElement("button",{onClick:this.deleted,type:"button",className:"btn btn-outline-info"},"\u0417\u0430\u0447\u0451\u0440\u043a\u043d\u0443\u0442\u044b\u0439"),s.a.createElement("button",{onClick:this.href,type:"button",className:"btn btn-outline-info"},"\u0421\u0441\u044b\u043b\u043a\u0430"),s.a.createElement("button",{onClick:this.img,type:"button",className:"btn btn-outline-info"},"\u041a\u0430\u0440\u0442\u0438\u043d\u043a\u0430")),s.a.createElement("div",{className:"text-area"},s.a.createElement("textarea",{onChange:this.textArea,cols:"30",rows:"10",value:this.state.textArea}))),s.a.createElement("div",{className:"text-area"},s.a.createElement("h2",null,this.state.title),s.a.createElement("hr",null),s.a.createElement("div",{className:"superText super-text-style",contentEditable:"false",dangerouslySetInnerHTML:{__html:"".concat(this.state.textArea)}})),s.a.createElement("br",null),s.a.createElement("hr",null),s.a.createElement("div",{className:"save-my-post-btn"},a))))}}]),a}(r.Component),oe=Object(d.b)((function(e){return Object(n.a)({},e)}),H)(ce);var le=Object(d.b)((function(e){return Object(n.a)({},e)}),H)((function(e){var t=new I,a=Object(r.useState)(!0),n=Object(m.a)(a,2),c=n[0],o=n[1],l=Object(r.useState)(""),i=Object(m.a)(l,2),u=i[0],p=i[1];Object(r.useEffect)((function(){return function(){return e.putInfoSearch({postsArr:null,usersArr:null})}}),[]);var d,f,b=c?"btn btn-dark btn-change":"btn btn-outline-dark btn-change",E=c?"btn btn-outline-dark btn-change":"btn btn-dark btn-change",g=e.search.postsArr,v=e.search.usersArr;g&&v?(d=0===g.length?s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"nothing-find"},"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e :(")):g.map((function(e){return s.a.createElement("div",{key:e._id,className:"page-posts"},s.a.createElement("div",{className:"d-flex justify-content-between"},s.a.createElement(h.b,{to:"/user/".concat(e.userId),className:"react-Link"},s.a.createElement("div",{className:"page-posts-user"},s.a.createElement("div",{className:"page-posts-ava",style:j(e.avatar)}),s.a.createElement("span",{className:"page-posts-nick"},e.nick))),s.a.createElement("pre",{className:"page-posts-time"},D(e.time))),s.a.createElement("hr",null),s.a.createElement("h2",null,e.title),s.a.createElement("div",{className:"superText",contentEditable:"false",dangerouslySetInnerHTML:{__html:"".concat(e.text)}}))})),f=0===v.length?s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"nothing-find"},"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e :(")):v.map((function(e){return s.a.createElement("div",{key:e._id,className:"page-posts"},s.a.createElement("div",{className:"d-flex justify-content-between"},s.a.createElement(h.b,{to:"/user/".concat(e._id),className:"react-Link"},s.a.createElement("div",{className:"page-posts-user"},s.a.createElement("div",{className:"page-posts-ava",style:j(e.avatar)}),s.a.createElement("span",{className:"page-posts-nick"},e.nick)))))}))):d=f=null;var k=c?d:f;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"form-inline w-100"},s.a.createElement("div",{className:"row w-100"},s.a.createElement("div",{className:"col-12"},s.a.createElement("div",{className:"d-flex search-inp-btn-width w-100"},s.a.createElement("input",{value:u,onChange:function(e){return p(e.target.value)},className:"form-control",placeholder:"\u041f\u043e\u0438\u0441\u043a","aria-label":"Search"}),s.a.createElement("button",{onClick:function(){""!==u&&t.findUsersAndPosts(u).then((function(t){return e.putInfoSearch(t)}),(function(e){return console.log(e)}))},className:"btn btn-secondary"},"\u041d\u0430\u0439\u0442\u0438"))))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-12 col-sm-8 offset-sm-2 col-md-6 offset-md-3"},s.a.createElement("div",{className:"d-flex"},s.a.createElement("button",{onClick:function(){c||o(!0)},className:b},"\u041f\u043e\u0441\u0442\u044b"),s.a.createElement("button",{onClick:function(){c&&o(!1)},className:E},"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438")))),k))})),ie=function(e){return s.a.createElement(s.a.Fragment,null,e.children)};var ue=Object(d.b)((function(e){return Object(n.a)({},e)}),H)((function(e){var t=new I,a=Object(r.useState)(""),c=Object(m.a)(a,2),o=c[0],l=c[1],i=Object(r.useState)(!0),u=Object(m.a)(i,2),p=u[0],d=u[1],f={skip:0,user:{},postsArr:[],amountPosts:null,status:!0,statistic:{users:0,posts:0}};function b(e){e.target.scrollingElement&&(e.target.scrollingElement.scrollTop+e.target.scrollingElement.offsetHeight>e.target.scrollingElement.scrollHeight/100*92&&p&&d(!1))}Object(r.useEffect)((function(){return window.addEventListener("scroll",b),function(){window.removeEventListener("scroll",b),e.putInfoAdmin(f)}}),[]),Object(r.useEffect)((function(){p||E()}),[p]);var E=function(){var a=e.adminInfo;a.amountPosts-a.skip>-e.addSkip&&t.findUser(a.skip,e.data.token,a.user._id).then((function(t){return e.putInfoAdmin({skip:a.skip+e.addSkip,postsArr:[].concat(Object(P.a)(a.postsArr),Object(P.a)(t.postsArr))})})).then((function(){return d(!0)})).catch((function(e){return console.log(e)}))};Object(r.useEffect)((function(){e.data&&e.data.token&&t.getStatistics(e.data.token).then((function(t){return e.putInfoAdmin(t)})).catch((function(e){return console.log(e)}))}),[e.adminInfo.statistic.users,e.adminInfo.statistic.posts]);var g;if(!e.data)return null;if(!e.data.admin)return null;g=e.adminInfo.user._id?e.adminInfo.user.active?"\u0417\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u0442\u044c":"\u0420\u0430\u0437\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u0442\u044c":"Error";var v,k,N=e.adminInfo,O=null;return v=N.user._id?s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"d-flex flex-column bg-white w_100"},s.a.createElement("div",{className:"user-page-info d-flex justify-content-between"},s.a.createElement("div",{className:"d-flex"},s.a.createElement("div",{className:"user-page-img",style:j(N.user.avatar)}),s.a.createElement("div",null,s.a.createElement("h4",{className:"mt-0"},N.user.nick),s.a.createElement("div",null,"Email: ",s.a.createElement("i",null,N.user.email)),s.a.createElement("div",null,"\u041f\u043e\u0441\u0442\u044b: ",s.a.createElement("b",null,N.amountPosts)))),s.a.createElement("div",{className:"admin-btns"},s.a.createElement("button",{onClick:function(){return function(){var a=e.adminInfo;"false"!==a.user.avatar&&t.deletePictureAdmin(a.user._id,a.user.avatar,e.data.token).then((function(t){t.msg&&"DELETE"===t.msg?e.putInfoAdmin(Object(n.a)(Object(n.a)({},a),{user:Object(n.a)(Object(n.a)({},a.user),{avatar:"false"})})):console.log(t.msg)})).catch((function(e){return console.log(e)}))}()},className:"btn btn-outline-danger"},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0410\u0432\u0443"),s.a.createElement("button",{onClick:function(){t.blockUnblock(e.adminInfo.user._id,e.data.token).then((function(t){var a=e.adminInfo.user;"BECOME_FALSE"===t.msg?e.putInfoAdmin({user:Object(n.a)(Object(n.a)({},a),{active:!1})}):"BECOME_TRUE"===t.msg?e.putInfoAdmin({user:Object(n.a)(Object(n.a)({},a),{active:!0})}):console.log("ERROR")})).catch((function(e){return console.log(e)}))},className:"btn btn-outline-primary"},g),s.a.createElement("button",{onClick:function(){"delete"===prompt('\u0410\u043a\u043a\u0430\u0443\u043d\u0442 \u0441 \u043f\u043e\u0441\u0442\u0430\u043c\u0438 \u0443\u0434\u0430\u043b\u0438\u0442\u044c\u0441\u044f \u043d\u0430\u0432\u0441\u0435\u0433\u0434\u0430 \u0438 \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044e \u043f\u043e\u0434\u043b\u0435\u0436\u0430\u0442\u044c \u043d\u0435 \u0431\u0443\u0434\u0435\u0442! \u0414\u043b\u044f \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u0432\u0432\u0435\u0434\u0438\u0442\u0435 "delete"')&&t.deleteUser(e.adminInfo.user._id,e.data.token).then((function(t){"DELETE"===t.msg&&e.putInfoAdmin(f)})).catch((function(e){return console.log(e)}))},className:"btn btn-danger"},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"))))):null,k=N.postsArr.map((function(a){return s.a.createElement(ie,{key:""+Math.random().toString(36).slice(2)+Math.random().toString(36).slice(2)+Math.random().toString(36).slice(2)},s.a.createElement("div",{className:"p-0 container"},s.a.createElement("div",{className:"page-posts-profile"},s.a.createElement("pre",{className:"page-posts-time"},D(a.time)),s.a.createElement("br",null),s.a.createElement("h2",null,a.title),s.a.createElement("hr",null),s.a.createElement("div",{className:"superText",contentEditable:"false",dangerouslySetInnerHTML:{__html:"".concat(a.text)}}),s.a.createElement("div",{className:"edit-posts"},s.a.createElement("button",{onClick:function(){return n=a._id,void t.deletePost(n,e.data.token).then((function(t){if(console.log({res:t}),"DELETE"===t.msg){var a=e.adminInfo.postsArr.filter((function(e){return e._id!==n}));e.putInfoAdmin({postsArr:a,amountPosts:e.adminInfo.amountPosts-1})}else console.log("ERROR")})).catch((function(e){return console.log(e)}));var n},className:"btn btn-outline-danger"},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c")))))})),N.status||(v=k=null,O=s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"nothing-find"},"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e :("))),s.a.createElement("div",{onScroll:function(e){return b(e)},className:"container"},s.a.createElement(h.b,{to:"/"},s.a.createElement("button",{onClick:function(){return localStorage.removeItem("superJWT_"),void e.cleanStore()},className:"btn btn-danger mb-2"},"\u0412\u044b\u0439\u0442\u0438")),s.a.createElement("div",{className:"statistic-admin mb-3"},s.a.createElement("div",null,s.a.createElement("b",null,"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430: ")),s.a.createElement("div",null,s.a.createElement("b",null,"\u041a-\u0432\u043e \u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439: ")," ",e.adminInfo.statistic.users," "),s.a.createElement("div",null,s.a.createElement("b",null,"\u041a-\u0432\u043e \u043f\u043e\u0441\u0442\u043e\u0432: ")," ",e.adminInfo.statistic.posts," ")),s.a.createElement("div",{className:"form-inline w-100 mb-3"},s.a.createElement("div",{className:"row w-100"},s.a.createElement("div",{className:"col-12"},s.a.createElement("div",{className:"d-flex search-inp-btn-width w-100"},s.a.createElement("input",{value:o,onChange:function(e){return l(e.target.value)},className:"form-control",placeholder:"\u041d\u0438\u043a \u0438\u043b\u0438 E-mail","aria-label":"Search"}),s.a.createElement("button",{onClick:function(){""!==o&&t.findUser(0,e.data.token,null,o).then((function(t){var a=t._id,r=t.nick,s=t.email,c=t.avatar,o=t.active,l=t.amountPosts,i=t.postsArr;a&&r&&s&&c&&i?e.putInfoAdmin({skip:e.addSkip,user:{_id:a,nick:r,email:s,avatar:c,active:o},postsArr:i,amountPosts:l,status:!0}):e.putInfoAdmin(Object(n.a)(Object(n.a)({},f),{status:!1}))}),(function(e){return console.log(e)}))},className:"btn btn-secondary"},"\u041d\u0430\u0439\u0442\u0438"))))),O,v,k)}));function me(e){if(e.length>30)return!1;var t,a=e.split(""),n=Object(Y.a)(a);try{for(n.s();!(t=n.n()).done;){var r=t.value.charCodeAt();if(!(95===r||r>47&&r<58||r>63&&r<91||r>96&&r<123))return!1}}catch(s){n.e(s)}finally{n.f()}return!0}var pe=Object(d.b)((function(e){return Object(n.a)({},e)}),H)((function(e){var t=new I,a=Object(r.useState)(""),n=Object(m.a)(a,2),c=n[0],o=n[1],l=Object(r.useState)(""),p=Object(m.a)(l,2),d=p[0],f=p[1],b=Object(r.useState)(!1),E=Object(m.a)(b,2),g=E[0],v=E[1],k=Object(r.useState)(""),N=Object(m.a)(k,2),O=N[0],w=N[1],A=Object(r.useState)(""),S=Object(m.a)(A,2),x=S[0],y=S[1],T=Object(r.useState)(""),P=Object(m.a)(T,2),C=P[0],_=P[1],D=Object(r.useState)(1),L=Object(m.a)(D,2),U=L[0],J=L[1],M=Object(r.useState)(1),F=Object(m.a)(M,2),G=F[0],W=F[1],B=Object(r.useState)(1),R=Object(m.a)(B,2),H=R[0],X=R[1],Z=Object(r.useState)(!1),z=Object(m.a)(Z,2),K=z[0],Q=z[1],Y=s.a.createRef();Object(r.useEffect)((function(){Object(u.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.data){t.next=5;break}return t.next=3,o(e.data.nick);case 3:return t.next=5,f(e.data.email);case 5:case"end":return t.stop()}}),t)})))()}),[e.data]);var V=function(){if(e.data){var a=/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/;""===c||""===d?J(2):c===e.data.nick&&d===e.data.email||(c===e.data.nick?a.test(d)?t.changeNickEmail(null,d,e.data.token).then((function(t){t.msg?J(6):Object(u.a)(i.a.mark((function a(){return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return localStorage.setItem("superJWT_",t.token),a.next=3,e.putStore(t);case 3:J(3);case 4:case"end":return a.stop()}}),a)})))()})).catch((function(e){return console.log(e)})):J(4):d===e.data.email?me(c)?t.changeNickEmail(c,null,e.data.token).then((function(t){console.log(t),t.msg?J(7):Object(u.a)(i.a.mark((function a(){return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return localStorage.setItem("superJWT_",t.token),a.next=3,e.putStore(t);case 3:J(3);case 4:case"end":return a.stop()}}),a)})))()})).catch((function(e){return console.log(e)})):J(5):a.test(d)&&me(c)?t.changeNickEmail(c,d,e.data.token).then((function(t){t.msg?J(9):Object(u.a)(i.a.mark((function a(){return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return localStorage.setItem("superJWT_",t.token),a.next=3,e.putStore(t);case 3:J(3);case 4:case"end":return a.stop()}}),a)})))()})).catch((function(e){return console.log(e)})):J(8))}};if(!e.data)return null;var q,$,ee,te=e.data,ae="false"===te.avatar?null:s.a.createElement("button",{onClick:function(){t.deletePicture(e.data.token).then((function(t){t.msg?console.log(t.msg):(localStorage.setItem("superJWT_",t.token),e.putStore(t))})).catch((function(e){return console.log(e)}))},className:"btn btn-outline-danger"},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"),ne=g?"\u041e\u0442\u043c\u0435\u043d\u0430":"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c";switch(U){case 1:q=s.a.createElement("button",{onClick:function(){return V()},className:"btn btn-success ml-2"},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c");break;case 2:q=s.a.createElement("button",{disabled:!0,className:"btn btn-outline-danger ml-2"},"\u041f\u043e\u043b\u044f \u043d\u0435 \u0434\u043e\u043b\u0436\u043d\u044b \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c\u0438");break;case 3:q=s.a.createElement("button",{onClick:function(){return V()},className:"btn btn-success ml-2"},"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u044b!");break;case 4:q=s.a.createElement("button",{disabled:!0,className:"btn btn-outline-danger ml-2"},"\u041d\u0435\u043a\u043e\u0440\u0435\u043a\u0442\u043d\u044b\u0439 E-mail");break;case 5:q=s.a.createElement("button",{disabled:!0,className:"btn btn-outline-danger ml-2"},"Nick \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e: A-Za-z0-9_");break;case 6:q=s.a.createElement("button",{disabled:!0,className:"btn btn-outline-danger ml-2"},"\u0422\u0430\u043a\u043e\u0439 E-mail \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442");break;case 7:q=s.a.createElement("button",{disabled:!0,className:"btn btn-outline-danger ml-2"},"\u0422\u0430\u043a\u043e\u0439 Nick \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442");break;case 8:q=s.a.createElement("button",{disabled:!0,className:"btn btn-outline-danger ml-2"},"\u041d\u0435\u043a\u043e\u0440\u0435\u043a\u0442\u043d\u044b\u0439 Nick \u0438\u043b\u0438 Email");break;case 9:q=s.a.createElement("button",{disabled:!0,className:"btn btn-outline-danger ml-2"},"Nick \u0438\u043b\u0438 E-mail \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442")}switch(G){case 1:$=s.a.createElement("button",{onClick:function(){e.data&&(""===O||""===x||""===C||O<4&&O>30&&x<4&&x>30&&C<4&&C>30?W(2):x!==C?W(3):t.changePassword(O,C,e.data.token).then((function(e){e.msg?"WRONG"===e.msg?W(5):"CHANGED"===e.msg?Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W(6);case 2:return e.next=4,w("");case 4:return e.next=6,y("");case 6:return e.next=8,_("");case 8:case"end":return e.stop()}}),e)})))():W(4):W(4)})).catch((function(e){return console.log(e)})))},className:"btn btn-success mb-5 mt-3"},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c");break;case 2:$=s.a.createElement("button",{disabled:!0,className:"btn btn-outline-danger mb-5 mt-3"},"\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c 4-30 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432");break;case 3:$=s.a.createElement("button",{disabled:!0,className:"btn btn-outline-danger mb-5 mt-3"},"\u041d\u043e\u0432\u044b\u0435 \u043f\u0430\u0440\u043e\u043b\u0438 \u043d\u0435\u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442");break;case 4:$=s.a.createElement("button",{disabled:!0,className:"btn btn-outline-danger mb-5 mt-3"},"\u041e\u0448\u0438\u0431\u043a\u0430");break;case 5:$=s.a.createElement("button",{disabled:!0,className:"btn btn-outline-danger mb-5 mt-3"},"\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u0441\u0442\u0430\u0440\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c");break;case 6:$=s.a.createElement("button",{className:"btn btn-success mb-5 mt-3"},"\u041f\u0430\u0440\u043e\u043b\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d!")}switch(H){case 1:ee=s.a.createElement("button",{type:"submit",className:"btn btn-success"},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c");break;case 2:ee=s.a.createElement("button",{disabled:!0,className:"btn btn-outline-danger"},"\u0424\u0430\u0439\u043b \u043d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d");break;case 3:ee=s.a.createElement("button",{disabled:!0,className:"btn btn-outline-danger"},"\u041c\u0430\u043a\u0441-\u0440\u0430\u0437\u043c\u0435\u0440 10\u041c\u0431");break;case 4:ee=s.a.createElement("button",{disabled:!0,className:"btn btn-outline-danger"},"\u0422\u043e\u043b\u044c\u043a\u043e .png, .jpg, .jpeg");break;case 5:ee=s.a.createElement("button",{disabled:!0,className:"btn btn-outline-danger"},"\u041e\u0448\u0438\u0431\u043a\u0430")}var re=K?"\u041a\u0430\u0440\u0442\u0438\u043d\u043a\u0430 \u0432\u044b\u0431\u0440\u0430\u043d\u0430!":"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443",se=g?s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"edit-password"},s.a.createElement("div",{className:"edit-password-msg"},"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f"),s.a.createElement("span",null,"\u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u043b\u0438\u043d\u0430 - 4 \u0441\u0438\u043c\u0432\u043e\u043b\u0430"),s.a.createElement("label",null," \u0421\u0442\u0430\u0440\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c:",s.a.createElement("input",{type:"password",onChange:function(e){w(e.target.value),W(1)},value:O})),s.a.createElement("label",null," \u041d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c:",s.a.createElement("input",{type:"password",onChange:function(e){y(e.target.value),W(1)},value:x})),s.a.createElement("label",null," \u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c:",s.a.createElement("input",{type:"password",onChange:function(e){_(e.target.value),W(1)},value:C})),$)):null;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"container bg-white"},s.a.createElement("div",{className:"edit-profile"},s.a.createElement("div",{className:"edit-profile-wrap"},s.a.createElement("div",null,s.a.createElement("div",{className:"edit-profile-picture"},s.a.createElement("div",{className:"edit-profile-img",style:j(te.avatar)}),s.a.createElement("form",{className:"form-file",encType:"multipart/form-data",onSubmit:function(a){return function(a){a.preventDefault();var n=Y.files[0];if(n)if(n.size>10485760)X(3);else if("image/jpeg"!==n.type&&"image/png"!==n.type)X(4);else{var r=new FormData;r.append("file",n),t.addPicture(r,e.data.token).then((function(t){t.msg?X(5):Object(u.a)(i.a.mark((function a(){return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return localStorage.setItem("superJWT_",t.token),Y.value="",a.next=4,e.putStore(t);case 4:Q(!1);case 5:case"end":return a.stop()}}),a)})))()})).catch((function(e){return console.log(e)}))}else X(2)}(a)}},s.a.createElement("label",{onChange:function(){Y.files[0]?Q(!0):Q(!1)},onClick:function(){return X(1)},className:"btn btn-primary"},re,s.a.createElement("input",{className:"d-none",type:"file",ref:function(e){Y=e}})),ee),ae)),s.a.createElement("div",{className:"edit-profile-form"},s.a.createElement("label",null,s.a.createElement("b",null,"Nick:"),"   ",s.a.createElement("input",{onChange:function(e){o(e.target.value),J(1)},value:c})),s.a.createElement("br",null),s.a.createElement("label",null,s.a.createElement("b",null,"Email:"),"   ",s.a.createElement("input",{onChange:function(e){f(e.target.value),J(1)},value:d})),s.a.createElement("br",null),q,s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("button",{onClick:function(){v(!g)},className:"btn btn-outline-primary ml-2"},ne))),s.a.createElement(h.b,{to:"/owner"},s.a.createElement("button",{type:"button",className:"close","aria-label":"Close"},s.a.createElement("span",{"aria-hidden":"true"},"\xd7")))),se))}));var de=Object(d.b)((function(e){return Object(n.a)({},e)}),H)((function(e){var t=new I,a=Object(r.useState)(-1),n=Object(m.a)(a,2),c=n[0],o=n[1];return Object(r.useEffect)((function(){var a=localStorage.getItem("superJWT_");a&&!e.data&&t.getJWT(a).then((function(t){if("BLOCKED"!==t.msg&&"NOT_FOUND"!==t.msg)return e.putStore(t);localStorage.removeItem("superJWT_")})).catch((function(e){return console.log(e)}))})),Object(r.useEffect)((function(){var a=localStorage.getItem("superJWT_");if(clearInterval(c),a&&e.data&&e.data.token)var n=setInterval(Object(u.a)(i.a.mark((function a(){return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,o(n);case 2:t.trackUser(e.data.token).then((function(t){"ALL_OK"===t.msg||("CLEAN_STORE"===t.msg?(clearInterval(c),localStorage.removeItem("superJWT_"),e.cleanStore()):console.log("Error in trackUser"))})).catch((function(e){return console.log(e)}));case 3:case"end":return a.stop()}}),a)}))),5e3)}),[e.data]),Object(r.useEffect)((function(){return function(){return clearInterval(c)}}),[]),s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"wrapper"},s.a.createElement("div",{className:"main-background"}),s.a.createElement("section",{className:"main-part"},s.a.createElement(S,{owner:e.data}),s.a.createElement(p.d,null,s.a.createElement(p.b,{exact:!0,path:"/"},s.a.createElement(z,null)),s.a.createElement(p.b,{exact:!0,path:"/user/editprofile"},s.a.createElement(pe,null)),s.a.createElement(p.b,{exact:!0,path:"/searching"},s.a.createElement(le,null)),s.a.createElement(p.b,{exact:!0,path:"/user/:id",render:function(e){var t=e.match;return s.a.createElement(ae,{idU:t})}}),s.a.createElement(p.b,{path:"/owner"},s.a.createElement(se,null)),s.a.createElement(p.b,{path:"/adminpage"},s.a.createElement(ue,null)),s.a.createElement(p.b,{path:"/users/get"},s.a.createElement(Q,null)),s.a.createElement(p.b,{path:"/createpost"},s.a.createElement(oe,null)),s.a.createElement(p.b,{path:"/users/new"},s.a.createElement($,null)),s.a.createElement(p.b,{path:"*"},s.a.createElement(z,null)),s.a.createElement(p.a,{to:"/"}))),s.a.createElement(T,null)))})),fe=(a(52),a(39)),be={data:null,addSkip:10,mainPage:{postsArr:[],skip:0,amountPosts:null},userPage:{postsArr:[],skip:0,user:{},amountPosts:null},ownerPage:{skip:0,postsArr:[],amountPosts:null},post:{_id:null,title:"",text:""},search:{postsArr:null,usersArr:null},adminInfo:{statistic:{users:0,posts:0},status:!0,skip:0,user:{},postsArr:[],amountPosts:null}},Ee=Object(L.c)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,t=arguments.length>1?arguments[1]:void 0;return"CLEAN_STATE"===t.type?Object(n.a)(Object(n.a)({},e),{data:null}):"PUT_STATE"===t.type?Object(n.a)(Object(n.a)({},e),{data:t.userData}):"PUT_MAIN_PAGE_STATE"===t.type?Object(n.a)(Object(n.a)({},e),{mainPage:Object(n.a)(Object(n.a)({},e.mainPage),t.mainPageStore)}):"PUT_USER_PAGE_STATE"===t.type?Object(n.a)(Object(n.a)({},e),{userPage:Object(n.a)(Object(n.a)({},e.userPage),t.userPageStore)}):"PUT_OWNER_PAGE_STATE"===t.type?Object(n.a)(Object(n.a)({},e),{ownerPage:Object(n.a)(Object(n.a)({},e.ownerPage),t.ownerPageStore)}):"PUT_POST_INFO"===t.type?Object(n.a)(Object(n.a)({},e),{post:Object(n.a)(Object(n.a)({},e.post),t.postInfo)}):"PUT_SEARCH_INFO"===t.type?Object(n.a)(Object(n.a)({},e),{search:Object(n.a)(Object(n.a)({},e.search),t.searchInfo)}):"PUT_ADMIN_INFO"===t.type?Object(n.a)(Object(n.a)({},e),{adminInfo:Object(n.a)(Object(n.a)({},e.adminInfo),t.adminInfo)}):e}),Object(L.a)(fe.a));o.a.render(s.a.createElement(d.a,{store:Ee},s.a.createElement(h.a,null,s.a.createElement(de,null))),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.633d50b2.chunk.js.map